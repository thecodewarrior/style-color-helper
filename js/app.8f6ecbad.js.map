{"version":3,"sources":["webpack:///webpack/bootstrap?7f80","webpack:///./src/App.vue?a4fd","webpack:///./src/components/parameter/NumberInput.vue?6ae9","webpack:///./src/components/parameter/SliderInput.vue?a866","webpack:///./src/components/ColorPanel.vue?9b87","webpack:///./src/components/views/FilterColorEditor.vue?0e18","webpack:///./src/components/ColorEditSwatch.vue?f2f5","webpack:///./src/components/ColorComponent.vue?7f4d","webpack:///./src/components/ColorPickerSpectrum.vue?1173","webpack:///./src/components/ColorSpectrum.vue?e0e6","webpack:///./src/components/views/FilterList.vue?f4c7","webpack:///./src/components/views/FilterAddMenu.vue?b3f6","webpack:///./src/components/ColorSwatch.vue?1d6f","webpack:///./src/App.vue?dd67","src://./src/utils.ts?fa83","src://./src/logic/Filter.ts?c819","src://./src/logic/math/ops.ts?6a83","src://./src/logic/math/vec.ts?8634","src://./src/logic/math/hsl.ts?fd2c","src://./src/logic/Filters.ts?47a7","src://./src/logic/Model.ts?bfe1","webpack:///./src/components/ColorPanel.vue?6429","webpack:///./src/components/ColorPickerSpectrum.vue?52b8","src://./src/logic/DragDelegate.ts?9c00","webpack:///./src/components/ColorSpectrum.vue?5cc6","src://./src/logic/SpectrumShader.ts?789a","src://./src/components/ColorSpectrum.vue?script","webpack:///./src/components/ColorSpectrum.vue?ff5e","src://./src/components/ColorPickerSpectrum.vue?script","webpack:///./src/components/ColorPickerSpectrum.vue?6463","webpack:///./src/lib/Tippy.vue?c449","src://./src/lib/Tippy.vue?script","webpack:///./src/lib/Tippy.vue?d4b2","webpack:///./src/components/ColorComponent.vue?f44b","src://./src/components/ColorComponent.vue?script","webpack:///./src/components/ColorComponent.vue?a14d","webpack:///./src/components/ColorSwatch.vue?36fa","src://./src/components/ColorSwatch.vue?script","webpack:///./src/components/ColorSwatch.vue?1598","webpack:///./src/components/ColorEditSwatch.vue?3bb9","src://./src/components/ColorEditSwatch.vue?script","webpack:///./src/components/ColorEditSwatch.vue?b21f","src://./src/components/ColorPanel.vue?script","webpack:///./src/components/ColorPanel.vue?d41f","src://./src/App.vue?script","webpack:///./src/App.vue?8ecf","src://./src/lib/TippyOptions.ts?9ed0","src://./src/lib/TippyDirective.ts?a67c","src://./src/icons.ts?ea5c","webpack:///./src/components/views/FilterList.vue?4edf","webpack:///./src/components/parameter/NumberInput.vue?698c","src://./src/components/parameter/NumberInput.vue?script","webpack:///./src/components/parameter/NumberInput.vue?4473","webpack:///./src/components/parameter/SliderInput.vue?c2ca","src://./src/components/parameter/SliderInput.vue?script","webpack:///./src/components/parameter/SliderInput.vue?4141","src://./src/components/views/FilterList.vue?script","webpack:///./src/components/views/FilterList.vue?d29b","webpack:///./src/components/views/FilterAddMenu.vue?1e0f","src://./src/components/views/FilterAddMenu.vue?script","webpack:///./src/components/views/FilterAddMenu.vue?1990","webpack:///./src/components/views/FilterColorEditor.vue?c96e","src://./src/components/views/FilterColorEditor.vue?script","webpack:///./src/components/views/FilterColorEditor.vue?3ffc","webpack:///./src/components/views/FilterSaveLoad.vue?ff8c","src://./src/components/views/FilterSaveLoad.vue?script","webpack:///./src/components/views/FilterSaveLoad.vue?a6c7","src://./src/main.ts?e4f2","webpack:///./src/components/views/FilterSaveLoad.vue?b8af","webpack:///./src/App.vue?5f06"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_withId","_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_color_component","_component_color_picker_spectrum","_component_color_swatch","_component_color_edit_swatch","_component_fa","_component_router_view","component","label","hue","saturation","rootModel","lightness","x","normalHue","$event","y","border","radius","width","transition","color","rawColor","filteredColor","hasHistory","onClick","goBack","icon","clamp","min","max","guid","S4","Math","random","toString","substring","formatDecimal","decimals","roundDecimals","toFixed","factor","pow","round","whiteContrast","contrast","blackContrast","hex","filter","id","visible","this","parameters","Array","of","controls","values","map","it","default","vectorize","v","fn","g","b","a","zip","floor","mix","clamped","bound","z","w","isArray","vec4","undefined","xyz","xyzw","other","vec3","hsl2rgb_glsl","hue2rgb","q","hsl2rgb","h","rgb2hsl_glsl","rgb2hsl","filterMenu","filterRegistry","glsl","type","step","precision","$0","times","div","snap","brightness","hsl","plus","textMax","defaultColor","defaultAlpha","blend","ai","bi","oi","suffix","minus","keys","Set","menu","delete","missing","console","warn","blend_glsl","operation","blend_js","rgb","options","opacity","filters","hideFilters","gl","computedColor","text","parameter","startsWith","loadFilters","JSON","parse","split","filtersText","filterEntries","filterRegex","filterEntry","match","exec","parameterText","control","valid","number","parseFloat","isNaN","paramFilter","json","args","param","model","ref","_component_spectrum","cornerStyles","outer","onMousedown","startMouse","onTouchstart","startTouch","inner","renderWidth","height","renderHeight","cursorStyle","DragHandler","dragging","document","addEventListener","e","mouseup","mousemove","touchend","touchmove","delegate","relative","clientX","clientY","dragEnd","dragMouse","touchEnd","touch","touches","dragTouch","rect","dragElement","getBoundingClientRect","left","top","fractionalDrag","canvasWidth","canvasHeight","context","_filterIds","pendingRebuild","modified","rebuildShader","filterIds","vertex","fragment","SpectrumShader","generateFragmentSource","shaderText","program","deleteProgram","createProgram","positionAttribute","getAttribLocation","hslAttribute","paramUniform","getUniformLocation","visibilityUniform","vsSource","fsSource","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","log","getProgramInfoLog","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","filterTypes","parameterCount","filterCount","body","baseIndex","replaceAll","indexString","index","parseInt","line","join","needsUpdate","$nextTick","updateCanvas","devicePixelRatio","markDirty","vectors","vector","initializeContext","canvas","$refs","getContext","nopShader","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","Float32Array","STATIC_DRAW","colorBuffer","uploadColors","topLeft","topRight","bottomLeft","bottomRight","concat","DYNAMIC_DRAW","setup","rebuildIfNeeded","clearColor","clearDepth","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","numComponents","FLOAT","normalize","stride","offset","vertexAttribPointer","enableVertexAttribArray","uploadComputedColors","useProgram","uniform4fv","filterParameters","uniform1iv","Int32Array","filterVisibilities","vertexCount","drawArrays","TRIANGLE_STRIP","from","components","props","String","Number","required","emits","watch","handler","deep","__exports__","spectrumSize","visualX","visualY","flipX","flipY","indexOf","cursorArea","drag","$emit","main","spectrum","$el","updateSpectrumSize","right","bottom","pad","outerRadius","innerRadius","Spectrum","tippyNoTarget","$slots","tip","defaultProps","attach","val","enable","hide","disable","isManualTrigger","show","setProps","getOptions","destroy","trigger","error","target","parentElement","deepSearch","querySelector","children","sibling","HTMLElement","dataset","tippyTarget","Error","enabled","hideOnClick","placement","onBody","appendTo","interactive","assign","extra","onShow","wrap","onShown","onHidden","onHide","onMount","onTrigger","onUntrigger","content","existing","Boolean","_component_tippy","hueAxis","saturationAxis","lightnessAxis","componentValue","valueDisplay","exactValueDisplay","_","Tippy","ColorPickerSpectrum","copyFiltered","copyVisible","copyTimeout","navigator","clipboard","writeText","toUpperCase","then","clearTimeout","setTimeout","contenteditable","spellcheck","onInput","hexEditorChanged","onFocus","hexEditorFocus","onBlur","hexEditorBlur","onKeydown","hexEditorKeydown","hexEditorFocused","sel","range","getSelection","createRange","selectNodeContents","hexEditorRef","removeAllRanges","addRange","event","innerText","preventDefault","blur","updateHexEditorText","ColorEditSwatch","ColorSwatch","ColorComponent","hideMainSpectrum","shareData","URL","location","href","searchParams","decode","history","replaceState","addFilter","$route","meta","back","$router","ColorPanel","sharpArrow","createOptions","setDefaultProps","theme","arrow","TippyDirective","mounted","el","binding","arg","updated","_tippy","unmounted","initIcons","add","_hoisted_7","_hoisted_8","_hoisted_9","_component_router_link","_component_number_input","_component_slider_input","_component_draggable","to","modelValue","handle","animation","item","element","toggle","removeFilter","editColor","swatchStyle","swatchHex","useSteppers","stepDown","inputmode","inputMode","state","focus","stepUp","focused","updateState","pattern","int_regex","float_regex","test","boundsCheck","_directive_tippy","numberControl","roundedValue","emitValue","textMode","toggleText","textMin","NumberInput","idx","filterIndex","parameterIndex","SliderInput","draggable","addOptions","_component_color_panel","subModel","controlValue","immediate","encoded","clipboardFieldFocus","onChange","loadClipboard","pasteVisible","pasteStatus","copyPermalink","permalinkVisible","savedNames","loadSaved","deleteSaved","saveLocal","pasteTimeout","permalinkTimeout","loadNames","clipboardField","setSelectionRange","success","local","localStorage","getItem","setItem","stringify","sort","url","search","encodeURI","router","routes","path","vue","use","directive","mount"],"mappings":"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","file":"js/app.8f6ecbad.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/style-color-helper/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=2053f832&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NumberInput.vue?vue&type=style&index=0&id=1d1cb361&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SliderInput.vue?vue&type=style&index=0&id=37d568f4&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorPanel.vue?vue&type=style&index=0&id=c07c105a&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FilterColorEditor.vue?vue&type=style&index=0&id=56a332e6&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorEditSwatch.vue?vue&type=style&index=0&id=19f371ba&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorComponent.vue?vue&type=style&index=0&id=4475b888&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorPickerSpectrum.vue?vue&type=style&index=0&id=4b22c3f4&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorSpectrum.vue?vue&type=style&index=0&id=8d31b7f4&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FilterList.vue?vue&type=style&index=0&id=bb83e284&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FilterAddMenu.vue?vue&type=style&index=0&id=05be1156&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ColorSwatch.vue?vue&type=style&index=0&id=f3180f66&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-2053f832\")\n\n_pushScopeId(\"data-v-2053f832\")\nconst _hoisted_1 = { class: \"app\" }\nconst _hoisted_2 = /*#__PURE__*/_createVNode(\"div\", {\n  class: \"sticky-top-mask\",\n  style: {\"z-index\":\"11\"}\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createVNode(\"div\", {\n  class: \"sticky-bottom-mask\",\n  style: {\"z-index\":\"5\"}\n}, null, -1)\nconst _hoisted_4 = {\n  class: \"panel-separator\",\n  style: {\"z-index\":\"7\"}\n}\nconst _hoisted_5 = {\n  key: 0,\n  class: \"separator-line-top\"\n}\nconst _hoisted_6 = /*#__PURE__*/_createVNode(\"div\", { class: \"separator-line\" }, null, -1)\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_color_component = _resolveComponent(\"color-component\")!\n  const _component_color_picker_spectrum = _resolveComponent(\"color-picker-spectrum\")!\n  const _component_color_swatch = _resolveComponent(\"color-swatch\")!\n  const _component_color_edit_swatch = _resolveComponent(\"color-edit-swatch\")!\n  const _component_fa = _resolveComponent(\"fa\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_color_component, {\n      component: \"hue\",\n      label: \"H\",\n      style: {\"grid-area\":\"hue\",\"z-index\":\"10\"}\n    }),\n    _createVNode(_component_color_component, {\n      component: \"saturation\",\n      label: \"S\",\n      style: {\"grid-area\":\"sat\",\"z-index\":\"10\"}\n    }),\n    _createVNode(_component_color_component, {\n      component: \"lightness\",\n      label: \"L\",\n      style: {\"grid-area\":\"lit\",\"z-index\":\"10\"}\n    }),\n    _createVNode(_component_color_picker_spectrum, {\n      class: \"main-spectrum\",\n      hue: \"x\",\n      saturation: _ctx.rootModel.saturation,\n      lightness: \"-y\",\n      x: _ctx.rootModel.normalHue,\n      \"onUpdate:x\": _cache[1] || (_cache[1] = ($event: any) => (_ctx.rootModel.normalHue = $event)),\n      y: _ctx.rootModel.lightness,\n      \"onUpdate:y\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.rootModel.lightness = $event)),\n      \"render-width\": 300,\n      \"render-height\": 100,\n      border: {radius: 20, width: 5, transition: '0.5s'},\n      style: {\"grid-area\":\"main\",\"z-index\":\"12\"}\n    }, null, 8, [\"saturation\", \"x\", \"y\", \"border\"]),\n    _createVNode(_component_color_swatch, {\n      class: \"small-swatch\",\n      style: {\"grid-area\":\"orig\",\"z-index\":\"8\"},\n      color: _ctx.rootModel.rawColor\n    }, null, 8, [\"color\"]),\n    _createVNode(_component_color_swatch, {\n      class: \"small-swatch\",\n      style: {\"grid-area\":\"filt\",\"z-index\":\"8\"},\n      color: _ctx.rootModel.filteredColor\n    }, null, 8, [\"color\"]),\n    _createVNode(_component_color_edit_swatch, {\n      class: \"main-swatch\",\n      style: {\"grid-area\":\"orig\",\"z-index\":\"10\"},\n      color: _ctx.rootModel.rawColor,\n      \"onUpdate:color\": _cache[3] || (_cache[3] = ($event: any) => (_ctx.rootModel.rawColor = $event))\n    }, null, 8, [\"color\"]),\n    _createVNode(_component_color_swatch, {\n      class: \"main-swatch\",\n      style: {\"grid-area\":\"filt\",\"z-index\":\"10\"},\n      color: _ctx.rootModel.filteredColor\n    }, null, 8, [\"color\"]),\n    _hoisted_2,\n    _hoisted_3,\n    _createVNode(\"div\", _hoisted_4, [\n      (_ctx.hasHistory)\n        ? (_openBlock(), _createBlock(\"div\", _hoisted_5))\n        : _createCommentVNode(\"\", true),\n      (_ctx.hasHistory)\n        ? (_openBlock(), _createBlock(\"div\", {\n            key: 1,\n            class: \"back-button\",\n            onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.goBack && _ctx.goBack(...args)))\n          }, [\n            _createVNode(_component_fa, { icon: \"arrow-left\" })\n          ]))\n        : _createCommentVNode(\"\", true),\n      _hoisted_6\n    ]),\n    _createVNode(_component_router_view, { class: \"side-panel\" })\n  ]))\n})","import chroma, {Color} from \"chroma-js\";\n\nexport function clamp(min: number, value: number, max: number): number {\n  if(value < min)\n    return min;\n  if(value > max)\n    return max;\n  return value;\n}\n\nexport function guid(): string {\n  let S4 = function() {\n    return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n  };\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nexport function formatDecimal(value: number, decimals: number): string {\n  return roundDecimals(value, decimals).toFixed(decimals)\n}\n\nexport function roundDecimals(value: number, decimals: number): number {\n  let factor = Math.pow(10, decimals)\n  return (Math.round(value * factor) / factor)\n}\n\nexport function swatchStyle(color: Color): object {\n  let whiteContrast = chroma.contrast('white', color)\n  let blackContrast = chroma.contrast('black', color)\n  return {\n    'color': blackContrast > whiteContrast ? 'black' : 'white',\n    'background-color': color.hex()\n  }\n}","import {vec3, vec4} from \"@/logic/math/vec\";\nimport {guid} from \"@/utils\";\nimport VueStore from \"vue-class-store\";\n\nexport type NumberControl = {\n  name: string, id: string, type: \"number\", default: number,\n  min?: number, max?: number, step?: number, precision: number\n}\nexport type SliderControl = {\n  name: string, id: string, type: \"slider\", default: number,\n  min: number, max: number, snap: number | 'any', step: number,\n  precision: number, suffix?: string,\n  textMin?: number | null, textMax?: number | null,\n}\nexport type ColorControl = {\n  name: string, id: string, type: \"color\", default: vec3\n}\n\nexport type FilterControl = NumberControl | SliderControl | ColorControl\nexport type ControlValue = number | vec3 | vec4\n\n/**\n * A filter definition\n */\nexport interface Filter {\n  id: string,\n  name: string,\n  /**\n   * A GLSL string which modifies the value of `color`. Use `$<num>` for input vectors. The vectors count will\n   * automatically be calculated based on the largest of these.\n   *\n   * e.g. `\"color = color * $0.rgb;\"`\n   *\n   * Each filter is isolated in its own block, so declaring variables is valid.\n   */\n  glsl: string,\n  /**\n   * The list of parameters that should be displayed.\n   */\n  controls: FilterControl[],\n  /**\n   * Converts the parameter list as defined in `parameters` into the vectors that should be passed to GLSL. This allows\n   * filters to merge multiple parameters into a single vector.\n   */\n  vectorize(...params: ControlValue[]): vec4[]\n  apply(color: vec3, ...params: vec4[]): vec3\n}\n\n@VueStore\nexport class ParameterizedFilter {\n  readonly id: string = guid()\n  readonly parameters: FilterControl[]\n  readonly values: ControlValue[]\n  visible: boolean = true\n\n  constructor(\n      readonly filter: Filter\n  ) {\n    this.parameters = Array.of(...filter.controls)\n    this.values = this.parameters.map(it => it.default)\n  }\n\n  apply(color: vec3): vec3 {\n    return this.filter.apply(color, ...this.filter.vectorize(...this.values))\n  }\n}","import {vec3, vec4} from \"@/logic/math/vec\";\nimport chroma from \"chroma-js\";\n\ntype V = number | vec3 | vec4\n\nexport function map<T extends V>(v: T, fn: (v: number) => number): T {\n  if(v instanceof vec4) {\n    return new vec4(fn(v.r), fn(v.g), fn(v.b), fn(v.a)) as T\n  } else if(v instanceof vec3) {\n    return new vec3(fn(v.r), fn(v.g), fn(v.b)) as T\n  } else {\n    return fn(v as number) as T\n  }\n}\n\nexport function zip<T extends V>(a: T, b: T | number, fn: (a: number, b: number) => number): T {\n  if(a instanceof vec4 && b instanceof vec4) {\n    return new vec4(fn(a.r, b.r), fn(a.g, b.g), fn(a.b, b.b), fn(a.a, b.a)) as T\n  } else if(a instanceof vec3 && b instanceof vec3) {\n    return new vec3(fn(a.r, b.r), fn(a.g, b.g), fn(a.b, b.b)) as T\n  } else if(typeof a === 'number') {\n    return fn(a as number, b as number) as T\n  } else {\n    return map(a, value => fn(value, b as number))\n  }\n}\n\nexport function floor<T extends V>(v: T): T {\n  return map(v, Math.floor)\n}\n\nexport function min<T extends V>(a: T, b: T): T {\n  return zip(a, b, (a, b) => Math.min(a, b));\n}\n\nexport function max<T extends V>(a: T, b: T): T {\n  return zip(a, b, (a, b) => Math.max(a, b));\n}\n\nexport function mix<T extends V>(x: T, y: T, a: number): T {\n  return zip(x, y, (x, y) => x * (1 - a) + y * a);\n}\n\nexport function clamp<T extends V>(v: T, min: T | number, max: T | number): T {\n  if(min instanceof vec3 || min instanceof vec3) { // component-wise\n    let clamped = v;\n    clamped = zip(clamped, min, (value, bound) => value < bound ? bound : value)\n    clamped = zip(clamped, max, (value, bound) => value > bound ? bound : value)\n    return clamped\n  } else { // single number bound\n    return map(v, (value) => Math.min(max as number, Math.max(min as number, value)))\n  }\n}\n\n// export function rgb2hsl(rgb: vec3): vec3 {\n//   let color = chroma.gl(rgb.r, rgb.g, rgb.b)\n//   return new vec3(...color.hsl())\n// }\n//\n// export function hsl2rgb(hsl: vec3): vec3 {\n//   let color = chroma.hsl(hsl.x, hsl.y, hsl.z)\n//   let gl = color.gl()\n//   return new vec3(gl[0], gl[1], gl[2])\n// }\n","// this code is only used for the final value calculation, so similarity to the GLSL is prioritized over speed\n\nimport {map, zip} from \"@/logic/math/ops\";\n\nexport class vec4 {\n  public constructor(v: number);\n  public constructor(x: number, y: number, z: number, w: number);\n  public constructor(rgb: vec3, a: number);\n  public constructor(rgba: vec4);\n  public constructor(rgba: [number, number, number, number]);\n  constructor(x: number | vec3 | vec4 | [number, number, number, number], y?: number, z?: number, w?: number) {\n    if(Array.isArray(x)) {\n      this.x = x[0]\n      this.y = x[1]\n      this.z = x[2]\n      this.w = x[3]\n    } else if(x instanceof vec4) {\n      this.x = x.r\n      this.y = x.g\n      this.z = x.b\n      this.w = x.a\n    } else if(x instanceof vec3) {\n      this.x = x.r\n      this.y = x.g\n      this.z = x.b\n      this.w = y!\n    } else if(y === undefined) {\n      this.x = x\n      this.y = x\n      this.z = x\n      this.w = x\n    } else {\n      this.x = x\n      this.y = y\n      this.z = z!\n      this.w = w!\n    }\n  }\n\n  public x: number\n  public y: number\n  public z: number\n  public w: number\n  public get xyz(): vec3 {\n    return new vec3(this.x, this.y, this.z)\n  }\n  public set xyz(value: vec3) {\n    this.x = value.x\n    this.y = value.y\n    this.z = value.z\n  }\n  public get rgb(): vec3 {\n    return this.xyz\n  }\n  public set rgb(value: vec3) {\n    this.xyz = value\n  }\n  public get xyzw(): vec4 {\n    return new vec4(this)\n  }\n  public set xyzw(value: vec4) {\n    this.x = value.x\n    this.y = value.y\n    this.z = value.z\n    this.w = value.w\n  }\n  public get rgba(): vec4 {\n    return this.xyzw\n  }\n  public set rgba(value: vec4) {\n    this.xyzw = value\n  }\n  public get r(): number {\n    return this.x\n  }\n  public set r(value: number) {\n    this.x = value\n  }\n  public get g(): number {\n    return this.y\n  }\n  public set g(value: number) {\n    this.y = value\n  }\n  public get b(): number {\n    return this.z\n  }\n  public set b(value: number) {\n    this.z = value\n  }\n  public get a(): number {\n    return this.w\n  }\n  public set a(value: number) {\n    this.w = value\n  }\n\n  public plus(other: vec4 | vec3): vec4 {\n    let x = other instanceof vec3 ? new vec4(other, 0) : other\n    return zip(this, x, (a, b) => a + b)\n  }\n  public minus(other: vec4 | vec3): vec4 {\n    let x = other instanceof vec3 ? new vec4(other, 0) : other\n    return zip(this, x, (a, b) => a - b)\n  }\n  public times(other: vec4 | vec3 | number): vec4 {\n    let x = typeof other === 'number' ? other : other instanceof vec3 ? new vec4(other, 0) : other\n    return zip(this, x, (a, b) => a * b) as vec4\n  }\n  public div(other: vec4 | vec3 | number): vec4 {\n    let x = typeof other === 'number' ? other : other instanceof vec3 ? new vec4(other, 0) : other\n    return zip(this, x, (a, b) => a / b) as vec4\n  }\n}\n\nexport class vec3 {\n  public constructor(v: number);\n  public constructor(x: number, y: number, z: number);\n  public constructor(rgb: vec3);\n  public constructor(rgb: [number, number, number]);\n  constructor(x: number | vec3 | [number, number, number], y?: number, z?: number) {\n    if(Array.isArray(x)) {\n      this.x = x[0]\n      this.y = x[1]\n      this.z = x[2]\n    } else if(x instanceof vec3) {\n      this.x = x.r\n      this.y = x.g\n      this.z = x.b\n    } else if(y === undefined) {\n      this.x = x\n      this.y = x\n      this.z = x\n    } else {\n      this.x = x\n      this.y = y\n      this.z = z!\n    }\n  }\n\n  public x: number\n  public y: number\n  public z: number\n  public get xyz(): vec3 {\n    return new vec3(this)\n  }\n  public set xyz(value: vec3) {\n    this.x = value.x\n    this.y = value.y\n    this.z = value.z\n  }\n  public get rgb(): vec3 {\n    return this.xyz\n  }\n  public set rgb(value: vec3) {\n    this.xyz = value\n  }\n  public get r(): number {\n    return this.x\n  }\n  public set r(value: number) {\n    this.x = value\n  }\n  public get g(): number {\n    return this.y\n  }\n  public set g(value: number) {\n    this.y = value\n  }\n  public get b(): number {\n    return this.z\n  }\n  public set b(value: number) {\n    this.z = value\n  }\n\n  public plus(other: vec3 | number): vec3 {\n    return zip(this, other, (a, b) => a + b) as vec3\n  }\n  public minus(other: vec3 | number): vec3 {\n    return zip(this, other, (a, b) => a - b) as vec3\n  }\n  public times(other: vec3 | number): vec3 {\n    return zip(this, other, (a, b) => a * b) as vec3\n  }\n  public div(other: vec3 | number): vec3 {\n    return zip(this, other, (a, b) => a / b) as vec3\n  }\n}\n","import {vec3} from \"@/logic/math/vec\";\nimport {min as minOp, max as maxOp} from \"@/logic/math/ops\";\n\n// https://stackoverflow.com/a/9493060\n\n// language=GLSL\nexport const hsl2rgb_glsl = `\n    float hue2rgb(float p, float q, float t) {\n        if(t < 0.) t += 1.;\n        if(t > 1.) t -= 1.;\n        if(t < 1./6.) return p + (q - p) * 6. * t;\n        if(t < 1./2.) return q;\n        if(t < 2./3.) return p + (q - p) * (2./3. - t) * 6.;\n        return p;\n    }\n\n    vec3 hsl2rgb(vec3 c){\n        float h = c.x, s = c.y, l = c.z;\n        float r, g, b;\n\n        if(s == 0.) {\n            r = g = b = l; // achromatic\n        } else {\n            float q = l < 0.5 ? l * (1. + s) : l + s - l * s;\n            float p = 2. * l - q;\n            r = hue2rgb(p, q, h + 1./3.);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1./3.);\n        }\n\n        return vec3(r, g, b);\n    }\n`\n\nfunction hue2rgb(p: number, q: number, t: number): number {\n  if(t < 0.) t += 1.;\n  if(t > 1.) t -= 1.;\n  if(t < 1./6.) return p + (q - p) * 6. * t;\n  if(t < 1./2.) return q;\n  if(t < 2./3.) return p + (q - p) * (2./3. - t) * 6.;\n  return p;\n}\n\nexport function hsl2rgb(c: vec3): vec3 {\n  let h = c.x, s = c.y, l = c.z;\n  let r, g, b;\n\n  if(s == 0.) {\n    r = g = b = l; // achromatic\n  } else {\n    let q = l < 0.5 ? l * (1. + s) : l + s - l * s;\n    let p = 2. * l - q;\n    r = hue2rgb(p, q, h + 1./3.);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1./3.);\n  }\n\n  return new vec3(r, g, b);\n}\n\n// language=GLSL\nexport const rgb2hsl_glsl = `\n    vec3 rgb2hsl(vec3 c) {\n        float min = min(c.r, min(c.g, c.b));\n        float max = max(c.r, max(c.g, c.b));\n        float l = (max + min) / 2.;\n        float s, h = 0.;\n\n        if(max == min) {\n            h = s = 0.; // achromatic\n        } else {\n            float d = max - min;\n            s = l > 0.5 ? d / (2. - max - min) : d / (max + min);\n            if(c.r == max) h = (c.g - c.b) / d + (c.g < c.b ? 6. : 0.);\n            else if(c.g == max) h = (c.b - c.r) / d + 2.;\n            else if(c.b == max) h = (c.r - c.g) / d + 4.;\n            h /= 6.;\n        }\n\n        return vec3(h, s, l);\n    }\n`\n\nexport function rgb2hsl(c: vec3): vec3 {\n  let min = minOp(c.r, minOp(c.g, c.b));\n  let max = maxOp(c.r, maxOp(c.g, c.b));\n  let l = (max + min) / 2.;\n  let s, h = 0.;\n\n  if(max == min) {\n    h = s = 0.; // achromatic\n  } else {\n    let d = max - min;\n    s = l > 0.5 ? d / (2. - max - min) : d / (max + min);\n    if(c.r == max) h = (c.g - c.b) / d + (c.g < c.b ? 6. : 0.);\n    else if(c.g == max) h = (c.b - c.r) / d + 2.;\n    else if(c.b == max) h = (c.r - c.g) / d + 4.;\n    h /= 6.;\n  }\n\n  return new vec3(h, s, l);\n}","import {vec3, vec4} from \"@/logic/math/vec\";\nimport {Filter} from \"@/logic/Filter\";\nimport {clamp, floor, max, min, mix, zip} from \"@/logic/math/ops\";\nimport {hsl2rgb, rgb2hsl} from \"@/logic/math/hsl\";\n\n// todo:\n//  # dani\n//  + posterize\n//  + brightness/contrast\n//  + normal\n//  + multiply\n//  + additive\n//  + color burn\n//  + color dodge\n//  - reflect\n//  - glow\n//  + overlay\n//  + difference\n//  + negation\n//  + lighten\n//  + darken\n//  + screen\n//  + xor\n//  # css\n//  -\n//  -\n//  # me\n//  + subtract\n//  + adjust HSL (H, S, L)\n//  + multiply HSL (H, S, L)\n//  - set hue\n//  - set saturation\n//  - set lightness\n\nexport const filterMenu: string[] = [\n  \"posterize\",\n  \"brightness_contrast\",\n  \"hsl_adjust\",\n  \"hsl_multiply\",\n\n  \"blend_normal\",\n  \"blend_multiply\",\n  \"blend_additive\",\n  \"blend_subtract\",\n  \"blend_difference\",\n  \"blend_screen\",\n  \"blend_overlay\",\n\n  \"color_dodge\",\n  \"color_burn\",\n  \"darken\",\n  \"lighten\",\n\n  \"xor\",\n  \"negation\",\n]\n\nexport const filterRegistry: Record<string, Filter> = {\n  // artistic filters\n  \"posterize\": {\n    id: \"posterize\",\n    name: \"Posterize\",\n    glsl: \"color = floor(color * $0.x) / $0.y;\",\n    controls: [\n      {name: \"Levels\", id: \"levels\", type: \"number\", default: 5, min: 2, max: 255, step: 1, precision: 0}\n    ],\n    vectorize(factor: number) {\n      return [new vec4(factor + 0.0001, factor + 0.0001 - 1, 0, 0)]\n    },\n    apply(color: vec3, $0: vec4) {\n      return floor(color.times($0.x)).div($0.y);\n    }\n  },\n\n  \"brightness_contrast\": {\n    id: \"brightness_contrast\",\n    name: \"Brightness/contrast\",\n    glsl: `\nvec3 hsl = rgb2hsl(color);\nfloat x = hsl.z;\nx += $0.x;\nif($0.y == 0.) {\n    // nop\n} else if($0.y < 0.) {\n    x = x * (1. + $0.y) - $0.y / 2.;\n} else if($0.y == 1.) {\n    x = x < 0.5 ? 0. : 1.;\n} else {\n    x -= 0.5;\n    x = x / (1. - $0.y);\n    x += 0.5;\n}\nhsl.z = clamp(x, 0., 1.);\ncolor = hsl2rgb(hsl);\n`,\n    controls: [\n      {name: \"Brightness\", id: \"brightness\", type: \"slider\", default: 0.0, min: -1, max: 1, snap: 'any', step: 0.05, precision: 2},\n      {name: \"Contrast\", id: \"contrast\", type: \"slider\", default: 0.0, min: -1, max: 1, snap: 'any', step: 0.05, precision: 2},\n    ],\n    vectorize(brightness: number, contrast: number) {\n      return [new vec4(brightness, contrast, 0, 0)]\n    },\n    apply(color: vec3, $0: vec4) {\n      let hsl = rgb2hsl(color)\n      let x = hsl.z\n\n      x += $0.x\n      if($0.y === 0) {\n        // nop\n      } else if($0.y < 0) {\n        x = x * (1 + $0.y) - $0.y / 2;\n      } else if($0.y === 1) {\n        x = x < 0.5  ? 0 : 1;\n      } else {\n        x -= 0.5;\n        x = x / (1 - $0.y);\n        x += 0.5;\n      }\n      x = clamp(x, 0, 1);\n\n      hsl.z = x;\n      return hsl2rgb(hsl)\n    }\n  },\n\n  \"hsl_adjust\": {\n    id: \"hsl_adjust\",\n    name: \"Adjust HSL\",\n    glsl: `\nvec3 hsl = rgb2hsl(color);\nhsl += $0.xyz;\nhsl.x = hsl.x - floor(hsl.x);\nhsl = clamp(hsl, 0., 1.);\ncolor = hsl2rgb(hsl);\n`,\n    controls: [\n      {name: \"Hue\", id: \"hue\", type: \"slider\", default: 0.0, min: -180, max: 180, snap: 'any', step: 1, precision: 2},\n      {name: \"Saturation\", id: \"saturation\", type: \"slider\", default: 0.0, min: -1, max: 1, snap: 'any', step: 0.05, precision: 2},\n      {name: \"Lightness\", id: \"lightness\", type: \"slider\", default: 0.0, min: -1, max: 1, snap: 'any', step: 0.05, precision: 2},\n    ],\n    vectorize(hue: number, saturation: number, lightness: number) {\n      return [new vec4(hue / 360, saturation, lightness, 0)]\n    },\n    apply(color: vec3, $0: vec4) {\n      let hsl = rgb2hsl(color)\n      hsl = hsl.plus($0.xyz)\n      hsl.x = hsl.x - floor(hsl.x)\n      hsl = clamp(hsl, 0., 1.)\n      return hsl2rgb(hsl)\n    }\n  },\n\n  \"hsl_multiply\": {\n    id: \"hsl_multiply\",\n    name: \"Multiply HSL\",\n    glsl: `\nvec3 hsl = rgb2hsl(color);\nhsl *= $0.xyz;\nhsl.x = hsl.x - floor(hsl.x);\nhsl = clamp(hsl, 0., 1.);\ncolor = hsl2rgb(hsl);\n`,\n    controls: [\n      {name: \"Hue\", id: \"hue\", type: \"number\", default: 1.0, min: -360, max: 360, step: 0.05, precision: 2},\n      {name: \"Saturation\", id: \"saturation\", type: \"slider\", default: 1.0, min: 0, max: 3, snap: 'any', step: 0.05, precision: 2, textMax: null},\n      {name: \"Lightness\", id: \"lightness\", type: \"slider\", default: 1.0, min: 0, max: 3, snap: 'any', step: 0.05, precision: 2, textMax: null},\n    ],\n    vectorize(hue: number, saturation: number, lightness: number) {\n      return [new vec4(hue, saturation, lightness, 0)]\n    },\n    apply(color: vec3, $0: vec4) {\n      let hsl = rgb2hsl(color)\n      hsl = hsl.times($0.xyz)\n      hsl.x = hsl.x - floor(hsl.x)\n      hsl = clamp(hsl, 0., 1.)\n      return hsl2rgb(hsl)\n    }\n  },\n\n  // blend modes\n  \"blend_normal\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Normal_blend_mode\n    id: \"blend_normal\",\n    name: \"Blend Normal\",\n    defaultColor: new vec3(1, 0, 0),\n    defaultAlpha: 50,\n    glsl: \"o = b\",\n    blend(a: number, b: number) {\n      return b\n    }\n  }),\n\n  \"blend_multiply\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Multiply\n    id: \"blend_multiply\",\n    name: \"Multiply\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = a * b\",\n    blend(a: number, b: number) {\n      return a * b\n    }\n  }),\n\n  \"blend_additive\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Addition\n    id: \"blend_additive\",\n    name: \"Additive\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = a + b\",\n    blend(a: number, b: number) {\n      return a + b\n    }\n  }),\n\n  \"blend_subtract\": blend({\n    id: \"blend_subtract\",\n    name: \"Subtract\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = a - b\",\n    blend(a: number, b: number) {\n      return a - b\n    }\n  }),\n\n  \"blend_screen\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Screen\n    id: \"blend_screen\",\n    name: \"Screen\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = 1. - (1. - a) * (1. - b)\",\n    blend(a: number, b: number) {\n      return 1. - (1. - a) * (1. - b)\n    }\n  }),\n\n  \"blend_overlay\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Overlay\n    id: \"blend_overlay\",\n    name: \"Overlay\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = a < 0.5 ? 2. * a * b : 1. - 2. * (1. - a) * (1. - b)\",\n    blend(a: number, b: number) {\n      return a < 0.5 ? 2. * a * b : 1. - 2. * (1. - a) * (1. - b)\n    }\n  }),\n\n  \"blend_difference\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Difference\n    id: \"blend_difference\",\n    name: \"Difference\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = a > b ? a - b : b - a\",\n    blend(a: number, b: number) {\n      return a > b ? a - b : b - a\n    }\n  }),\n\n  \"color_dodge\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Dodge_and_burn\n    id: \"color_dodge\",\n    name: \"Color Dodge\",\n    defaultColor: new vec3(0.75, 0.5, 0.75),\n    defaultAlpha: 100,\n    glsl: \"o = b == 1. ? 1. : a / (1. - b)\",\n    blend(a: number, b: number) {\n      return b == 1. ? 1. : a / (1. - b)\n    }\n  }),\n\n  \"color_burn\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Dodge_and_burn\n    id: \"color_burn\",\n    name: \"Color Burn\",\n    defaultColor: new vec3(0.75, 0.5, 0.75),\n    defaultAlpha: 100,\n    glsl: \"o = a == 1. ? 1. : b == 0. ? 0. : 1. - (1. - a) / b\",\n    blend(a: number, b: number) {\n      return a == 1. ? 1. : b == 0. ? 0. : 1. - (1. - a) / b\n    }\n  }),\n\n  \"darken\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Darken_Only\n    id: \"darken\",\n    name: \"Darken\",\n    defaultColor: new vec3(0.75, 0.5, 0.75),\n    defaultAlpha: 100,\n    glsl: \"o = min(a, b)\",\n    blend(a: number, b: number) {\n      return min(a, b)\n    }\n  }),\n\n  \"lighten\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Lighten_Only\n    id: \"lighten\",\n    name: \"Lighten\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    glsl: \"o = max(a, b)\",\n    blend(a: number, b: number) {\n      return max(a, b)\n    }\n  }),\n\n  \"xor\": blend({ // https://en.wikipedia.org/wiki/Blend_modes#Boolean_arithmetic_blend_modes\n    id: \"xor\",\n    name: \"XOR\",\n    defaultColor: new vec3(0.5, 0.25, 0.5),\n    defaultAlpha: 100,\n    // implementing XOR without bitwise operations: https://stackoverflow.com/a/373457\n    glsl: `\n    int ai = int(a * 255.);\n    int bi = int(b * 255.);\n   \n    int oi = 0;\n    int fact = 0x80; // 1000 0000\n    for (int i = 8; i > 0; i--) {\n        if ((ai >= fact || bi >= fact) && (ai < fact || bi < fact))\n            oi += fact;\n\n        if (ai >= fact)\n            ai -= fact;\n        if (bi >= fact)\n            bi -= fact;\n\n        fact /= 2;\n    }\n    \n    o = float(oi) / 255.;\n    `,\n    blend(a: number, b: number) {\n      let ai = floor(a * 255)\n      let bi = floor(b * 255)\n      let oi = ai ^ bi;\n      return oi / 255.\n    }\n  }),\n\n  \"negation\": {\n    id: \"negation\",\n    name: \"Negation\",\n    glsl: \"color = mix(color, vec3(1) - color, $0.x);\",\n    controls: [\n      {name: \"Blend\", id: \"blend\", type: \"slider\", default: 100, min: 0, max: 100, snap: 1, step: 1, precision: 0, suffix: '%'},\n    ],\n    vectorize(blend: number) {\n      return [new vec4(blend / 100, 0, 0, 0)]\n    },\n    apply(color: vec3, $0: vec4) {\n      return mix(color, new vec3(1).minus(color), $0.x)\n    }\n  },\n}\n\n{\n  let keys = new Set(Object.keys(filterRegistry))\n  for(let menu of filterMenu) {\n    keys.delete(menu)\n  }\n  for(let missing of keys) {\n    console.warn(\"Registered filter \" + missing + \" isn't present in the menu\")\n  }\n}\n\nfunction blend_glsl(operation: string): string {\n  return `\n    vec3 blend = vec3(0);\n    {\n      float a = color.r, b = $0.r, o;\n      ${operation};\n      blend.r = o;\n    }\n    {\n      float a = color.g, b = $0.g, o;\n      ${operation};\n      blend.g = o;\n    }\n    {\n      float a = color.b, b = $0.b, o;\n      ${operation};\n      blend.b = o;\n    }\n    color = mix(color, blend, $0.a);\n  `\n}\n\nfunction blend_js(operation: (a: number, b: number) => number): (color: vec3, $0: vec4) => vec3 {\n  return function(color, $0) {\n    return mix(color, zip(color, $0.rgb, operation), $0.a)\n  }\n}\n\ntype BlendOptions = {\n  id: string,\n  name: string,\n  defaultColor: vec3,\n  defaultAlpha: number,\n  /**\n   * Base color is `a`, color being blended on top is `b`, output goes in `o`. trailing semicolon optional\n   */\n  glsl: string,\n  blend(a: number, b: number): number,\n}\n\nfunction blend(options: BlendOptions): Filter {\n  return {\n    id: options.id,\n    name: options.name,\n    glsl: blend_glsl(options.glsl),\n    controls: [\n      {name: \"Color\", id: \"color\", type: \"color\", default: options.defaultColor},\n      {name: \"Opacity\", id: \"opacity\", type: \"slider\", default: options.defaultAlpha, min: 0, max: 100, snap: 1, step: 1, precision: 0, suffix: '%'},\n    ],\n    vectorize(color: vec3, opacity: number) {\n      return [new vec4(color, opacity / 100)]\n    },\n    apply: blend_js(options.blend)\n  }\n}\n","import VueStore from \"vue-class-store\";\nimport {ControlValue, ParameterizedFilter} from \"@/logic/Filter\";\nimport chroma, {Color} from \"chroma-js\";\nimport {vec3, vec4} from \"@/logic/math/vec\";\nimport {clamp} from \"@/logic/math/ops\";\nimport {roundDecimals} from \"@/utils\";\nimport {filterRegistry} from \"@/logic/Filters\";\n\n@VueStore\nexport default class Model {\n  public name: string = \"Unnamed\"\n  public filters: ParameterizedFilter[] = []\n  public hue = 30\n  public saturation = 1\n  public lightness = 0.75\n  public hideFilters: boolean = false\n\n  get normalHue(): number {\n    return this.hue / 360\n  }\n  set normalHue(value: number) {\n    this.hue = value * 360\n  }\n\n  addFilter(filter: ParameterizedFilter): ParameterizedFilter {\n    this.filters.push(filter)\n    return this.filters[this.filters.length - 1]\n  }\n\n  set rawColor(value) {\n    let hsl = value.hsl();\n    this.hue = hsl[0];\n    this.saturation = hsl[1];\n    this.lightness = hsl[2];\n  }\n\n  get rawColor(): Color {\n    return chroma.hsl(this.hue, this.saturation, this.lightness)\n  }\n\n  get computedColor(): Color {\n    let rgb = this.rawColor.gl()\n    let color = new vec3(rgb[0], rgb[1], rgb[2])\n    for(let filter of this.filters) {\n      if(!filter.visible)\n        continue\n      color = filter.apply(color)\n      color = clamp(color, 0, 1)\n    }\n    return chroma.gl(color.r, color.g, color.b)\n  }\n\n  get filteredColor(): Color {\n    return this.hideFilters ? this.rawColor : this.computedColor\n  }\n\n  get encoded(): string {\n    let text = ''\n    for(let filter of this.filters) {\n      text += filter.filter.id\n      text += ':'\n      for(let i = 0; i < filter.parameters.length; i++) {\n        if(i != 0) {\n          text += ','\n        }\n        let parameter = filter.parameters[i]\n        let value = filter.values[i]\n        switch(parameter.type) {\n          case \"color\": {\n            let v = value as vec4\n            let color = chroma.gl(v.r, v.g, v.b, v.a)\n            text += color.hex(\"rgb\").substring(1)\n            break;\n          }\n          case \"number\": {\n            let v = value as number\n            text += roundDecimals(v, parameter.precision)\n            break;\n          }\n          case \"slider\": {\n            let v = value as number\n            text += roundDecimals(v, parameter.precision)\n            break;\n          }\n          // future syntax for vectors, if I need them, will be slash-separated `0.4/4.8/7`\n        }\n      }\n      text += ';'\n    }\n    text += '~'\n    text += this.name\n    return text\n  }\n\n  decode(text: string): boolean {\n    if(text.startsWith('{')) {\n      return this.loadFilters(JSON.parse(text))\n    }\n    if(text.startsWith('~')) {\n      this.filters.splice(0, this.filters.length)\n      this.name = text.substring(1)\n      return true\n    }\n\n    let [filtersText, name] = text.split(';~', 2)\n    if(name === undefined) {\n      return false\n    }\n\n    let filters: ParameterizedFilter[] = []\n    let filterEntries = filtersText.split(';')\n    let filterRegex = /^([a-z_]+):(.*)$/\n    for(let filterEntry of filterEntries) {\n      let match = filterRegex.exec(filterEntry)\n      if(!match) {\n        return false\n      }\n      let [, id, parameterText] = match\n\n      let filter = filterRegistry[id]\n      if(!filter) {\n        return false\n      }\n\n      let parameters = parameterText.split(',')\n      if(parameters.length !== filter.controls.length) {\n        return false\n      }\n\n      let values: ControlValue[] = []\n      for(let i = 0; i < filter.controls.length; i++) {\n        let control = filter.controls[i]\n        let value = parameters[i]\n\n        switch(control.type) {\n          case \"color\": {\n            if (!chroma.valid(value)) return false\n            let color = chroma(value)\n            values.push(new vec4(...color.gl()))\n            break;\n          }\n          case \"number\": {\n            let number = parseFloat(value)\n            if(isNaN(number)) {\n              return false\n            }\n            values.push(number)\n            break;\n          }\n          case \"slider\": {\n            let number = parseFloat(value)\n            if(isNaN(number)) {\n              return false\n            }\n            values.push(number)\n            break;\n          }\n        }\n      }\n      let paramFilter = new ParameterizedFilter(filter)\n      paramFilter.values.splice(0, paramFilter.values.length, ...values)\n      filters.push(paramFilter)\n    }\n    this.name = name\n    this.filters = filters\n    return true\n  }\n\n  loadFilters(json: Record<string, any>): boolean {\n    if(typeof json.name !== 'string' || !Array.isArray(json.filters)) {\n      return false\n    }\n    let filters: ParameterizedFilter[] = []\n    for(let data of json.filters as Record<string, any>[]) {\n      if(typeof data.id !== 'string' || !data.args) return false\n\n      let filter = filterRegistry[data.id]\n      if(!filter) return false\n\n      let values: ControlValue[] = []\n      for(let param of filter.controls) {\n        let value = data.args[param.id]\n        if(value === undefined) return false\n\n        switch(param.type) {\n          case \"color\": {\n            if (!chroma.valid(value)) return false\n            let color = chroma(value)\n            values.push(new vec4(...color.gl()))\n            break;\n          }\n          case \"number\": {\n            if(typeof value !== \"number\") return false\n            values.push(value)\n            break;\n          }\n          case \"slider\": {\n            if(typeof value !== \"number\") return false\n            values.push(value)\n            break;\n          }\n        }\n      }\n      let paramFilter = new ParameterizedFilter(filter)\n      paramFilter.values.splice(0, paramFilter.values.length, ...values)\n      filters.push(paramFilter)\n    }\n    this.name = json.name\n    this.filters = filters\n    return true\n  }\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-c07c105a\")\n\n_pushScopeId(\"data-v-c07c105a\")\nconst _hoisted_1 = { class: \"color-panel\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_color_component = _resolveComponent(\"color-component\")!\n  const _component_color_picker_spectrum = _resolveComponent(\"color-picker-spectrum\")!\n  const _component_color_edit_swatch = _resolveComponent(\"color-edit-swatch\")!\n  const _component_color_swatch = _resolveComponent(\"color-swatch\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_color_component, {\n      component: \"hue\",\n      label: \"H\",\n      style: {\"grid-area\":\"hue\"}\n    }),\n    _createVNode(_component_color_component, {\n      component: \"saturation\",\n      label: \"S\",\n      style: {\"grid-area\":\"saturation\"}\n    }),\n    _createVNode(_component_color_component, {\n      component: \"lightness\",\n      label: \"L\",\n      style: {\"grid-area\":\"lightness\"}\n    }),\n    _createVNode(_component_color_picker_spectrum, {\n      class: \"main-spectrum\",\n      hue: \"x\",\n      saturation: _ctx.model.saturation,\n      lightness: \"-y\",\n      x: _ctx.model.normalHue,\n      \"onUpdate:x\": _cache[1] || (_cache[1] = ($event: any) => (_ctx.model.normalHue = $event)),\n      y: _ctx.model.lightness,\n      \"onUpdate:y\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.model.lightness = $event)),\n      \"render-width\": 300,\n      \"render-height\": 100,\n      border: {radius: 20, width: 5, transition: '0.5s'},\n      style: {\"grid-area\":\"main\"}\n    }, null, 8, [\"saturation\", \"x\", \"y\", \"border\"]),\n    _createVNode(_component_color_edit_swatch, {\n      style: {\"grid-area\":\"original\"},\n      color: _ctx.model.rawColor,\n      \"onUpdate:color\": _cache[3] || (_cache[3] = ($event: any) => (_ctx.model.rawColor = $event))\n    }, null, 8, [\"color\"]),\n    _createVNode(_component_color_swatch, {\n      style: {\"grid-area\":\"filtered\"},\n      color: _ctx.model.filteredColor\n    }, null, 8, [\"color\"])\n  ]))\n})","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-4b22c3f4\")\n\n_pushScopeId(\"data-v-4b22c3f4\")\nconst _hoisted_1 = {\n  class: \"cursor-area\",\n  ref: \"cursorArea\"\n}\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_spectrum = _resolveComponent(\"spectrum\")!\n\n  return (_openBlock(), _createBlock(\"div\", {\n    class: \"color-picker-spectrum\",\n    style: _ctx.cornerStyles.outer,\n    onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.startMouse && _ctx.startMouse(...args))),\n    onTouchstart: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.startTouch && _ctx.startTouch(...args)))\n  }, [\n    _createVNode(\"div\", {\n      class: \"spectrum\",\n      style: _ctx.cornerStyles.inner\n    }, [\n      _createVNode(_component_spectrum, {\n        ref: \"spectrum\",\n        hue: _ctx.hue,\n        saturation: _ctx.saturation,\n        lightness: _ctx.lightness,\n        width: _ctx.renderWidth,\n        height: _ctx.renderHeight\n      }, null, 8, [\"hue\", \"saturation\", \"lightness\", \"width\", \"height\"])\n    ], 4),\n    _createVNode(\"div\", _hoisted_1, [\n      _createVNode(\"div\", {\n        class: \"cursor\",\n        style: _ctx.cursorStyle\n      }, null, 4)\n    ], 512)\n  ], 36))\n})","\nexport interface DragDelegate {\n  readonly dragElement: HTMLElement\n  readonly fractionalDrag?: boolean\n  moveMouse?(dx: number, dy: number): void\n  dragMouse(x: number, y: number): void\n  dragEnd(x: number, y: number): void\n\n  moveTouch?(dx: number, dy: number): void\n  dragTouch(x: number, y: number): void\n  touchEnd(): void\n}\n\nexport const DragHandler = new (class {\n  private dragging: DragDelegate | null = null;\n\n  constructor() {\n    document.addEventListener(\"mouseup\", e => this.mouseup(e));\n    document.addEventListener(\"mousemove\", e => this.mousemove(e));\n\n    document.addEventListener(\"touchcancel\", e => this.touchend(e));\n    document.addEventListener(\"touchend\", e => this.touchend(e));\n    document.addEventListener(\"touchmove\", e => this.touchmove(e));\n  }\n\n  start(delegate: DragDelegate) {\n    this.dragging = delegate\n  }\n\n  startMouse(delegate: DragDelegate, e: MouseEvent) {\n    this.dragging = delegate\n    this.mousemove(e)\n  }\n\n  startTouch(delegate: DragDelegate, e: TouchEvent) {\n    this.dragging = delegate\n    this.touchmove(e)\n  }\n\n  private mouseup(e: MouseEvent) {\n    if(this.dragging) {\n      const {x, y} = this.relative(e.clientX, e.clientY, this.dragging)\n      this.dragging?.dragEnd(x, y)\n    }\n    this.dragging = null\n  }\n\n  private mousemove(e: MouseEvent) {\n    if(this.dragging) {\n      const {x, y} = this.relative(e.clientX, e.clientY, this.dragging)\n      this.dragging?.dragMouse(x, y)\n    }\n  }\n\n  private touchend(e: TouchEvent) {\n    if(this.dragging) {\n      this.dragging?.touchEnd()\n    }\n    this.dragging = null\n  }\n\n  private touchmove(e: TouchEvent) {\n    if(this.dragging) {\n      let touch = e.touches[0]\n      const {x, y} = this.relative(touch.clientX, touch.clientY, this.dragging)\n      this.dragging?.dragTouch(x, y)\n    }\n  }\n\n  private relative(clientX: number, clientY: number, delegate: DragDelegate): {x: number, y: number} {\n    const rect = delegate.dragElement.getBoundingClientRect()\n    let x = clientX - rect.left\n    let y = clientY - rect.top\n    if(delegate.fractionalDrag) {\n      x /= rect.width\n      y /= rect.height\n    }\n    return {x, y}\n  }\n})\n","import { openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-8d31b7f4\")\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  return (_openBlock(), _createBlock(\"canvas\", {\n    ref: \"spectrum\",\n    width: _ctx.canvasWidth,\n    height: _ctx.canvasHeight\n  }, null, 8, [\"width\", \"height\"]))\n})","import {filterRegistry} from \"@/logic/Filters\";\nimport {hsl2rgb_glsl, rgb2hsl_glsl} from \"@/logic/math/hsl\";\n\nexport default class SpectrumShader {\n  program!: WebGLProgram\n  positionAttribute!: number\n  hslAttribute!: number\n  paramUniform!: WebGLUniformLocation\n  visibilityUniform!: WebGLUniformLocation\n  shaderText!: string\n\n  private _filterIds: string[] = []\n  private pendingRebuild: boolean = true\n\n  constructor(private context: WebGLRenderingContext) {\n  }\n  \n  public get filterIds(): string[] {\n    return this._filterIds\n  }\n  public set filterIds(value) {\n    let modified = false\n    if(value.length === this._filterIds.length) {\n      for (let i = 0; i < value.length; i++) {\n        if(value[i] != this._filterIds[i]) {\n          modified = true\n          break\n        }\n      }\n    } else {\n      modified = true\n    }\n\n    if(modified) {\n      this._filterIds = value\n      this.pendingRebuild = true\n    }\n  }\n\n  public rebuildIfNeeded() {\n    if(this.pendingRebuild)\n      this.rebuildShader(this._filterIds)\n  }\n\n  private rebuildShader(filterIds: string[]) {\n    this.pendingRebuild = false\n    const vertex = `\nattribute vec4 position;\nattribute vec3 hsl;\n\nvarying vec3 vHsl;\n\nvoid main(void) {\n    gl_Position = position;\n    vHsl = hsl;\n}`\n    const fragment = SpectrumShader.generateFragmentSource(filterIds)\n    this.shaderText = fragment\n    if(this.program)\n      this.context.deleteProgram(this.program);\n    this.program = this.createProgram(vertex, fragment);\n    this.positionAttribute = this.context.getAttribLocation(this.program, 'position');\n    this.hslAttribute = this.context.getAttribLocation(this.program, 'hsl');\n    this.paramUniform = this.context.getUniformLocation(this.program, '_p')!;\n    this.visibilityUniform = this.context.getUniformLocation(this.program, '_v')!;\n  }\n\n  private static generateFragmentSource(filterIds: string[]): string {\n    const filterTypes = filterIds.map(it => filterRegistry[it])\n    let parameterCount = 0\n    let filterCount = 0\n    const body = filterTypes.map(filter => {\n      const baseIndex = parameterCount;\n      let body = filter.glsl.replaceAll(/\\$(\\d+)/g, (substring, indexString) => {\n        let index = baseIndex + parseInt(indexString);\n        parameterCount = Math.max(parameterCount, index + 1);\n        return `_p[${index}]`;\n      });\n      return `    if (_v[${filterCount++}]) { // ${filter.id}\\n` +\n          body.split('\\n').map(line => `        ${line}\\n`).join(\"\") +\n          \"    }\\n\" +\n          \"    color = clamp(color, 0., 1.);\\n\"\n    }).join(\"\");\n\n    // language=GLSL\n    return `precision lowp float;\n\nuniform vec4 _p[${Math.max(parameterCount, 1)}];\nuniform bool _v[${Math.max(filterCount, 1)}];\n\nvarying vec3 vHsl;\n\n${rgb2hsl_glsl}\n${hsl2rgb_glsl}\n\nvoid main() {\n    vec3 color = hsl2rgb(vHsl);\n\n${body}\n    gl_FragColor = vec4(color, 1.0);\n}`\n  }\n\n  private createProgram(vsSource: string, fsSource: string): WebGLProgram {\n    let gl = this.context\n    const vertexShader = this.loadShader(gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fsSource);\n\n    const shaderProgram = gl.createProgram()!;\n\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n      console.log('Fragment shader:\\n' + fsSource)\n      console.log('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));\n      gl.deleteProgram(shaderProgram);\n      throw 'error linking program';\n    }\n\n    return shaderProgram;\n  }\n\n  //\n  // creates a shader of the given type, uploads the source and\n  // compiles it.\n  //\n  private loadShader(type: GLenum, source: string): WebGLShader {\n    let gl = this.context\n    const shader = gl.createShader(type)!;\n\n    // Send the source to the shader object\n\n    gl.shaderSource(shader, source);\n\n    // Compile the shader program\n\n    gl.compileShader(shader);\n\n    // See if it compiled successfully\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      console.log(source)\n      console.log('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));\n      gl.deleteShader(shader);\n      throw 'error compiling shader';\n    }\n\n    return shader;\n  }\n\n}","\nimport {Options, Vue} from 'vue-class-component';\nimport {PropType} from \"vue\";\nimport SpectrumShader from \"../logic/SpectrumShader\";\nimport Model from \"@/logic/Model\";\nimport {Inject} from \"vue-property-decorator\";\n\nexport type SpectrumComponent = number | \"x\" | \"-x\" | \"y\" | \"-y\"\n\n@Options({\n  components: {},\n  props: {\n    hue: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    saturation: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    lightness: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    width: {type: Number, required: true},\n    height: {type: Number, required: true},\n  },\n  emits: [\n    'update:h',\n    'update:s',\n    'update:l',\n  ],\n  watch: {\n    'hue': 'markDirty',\n    'saturation': 'markDirty',\n    'lightness': 'markDirty',\n    'width': 'markDirty',\n    'height': 'markDirty',\n    'model.hideFilters': 'markDirty',\n    'filterIds': {handler: 'filterIdsChanged', deep: true},\n    'filterVisibilities': {handler: 'markDirty', deep: true},\n    'filterParameters': {handler: 'markDirty', deep: true},\n  }\n})\nexport default class ColorSpectrum extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n\n  width!: number\n  height!: number\n  hue!: SpectrumComponent\n  saturation!: SpectrumComponent\n  lightness!: SpectrumComponent\n\n  context!: WebGLRenderingContext\n  shader!: SpectrumShader\n  nopShader!: SpectrumShader\n  positionBuffer!: WebGLBuffer\n  colorBuffer!: WebGLBuffer\n\n  needsUpdate: boolean = false\n\n  markDirty() {\n    if(!this.needsUpdate) {\n      this.$nextTick(() => {\n        this.updateCanvas()\n        this.needsUpdate = false\n      });\n    }\n    this.needsUpdate = true\n  }\n\n  get canvasWidth() {\n    return this.width * window.devicePixelRatio\n  }\n\n  get canvasHeight() {\n    return this.height * window.devicePixelRatio\n  }\n\n  get filterIds(): string[] {\n    return this.model.filters.map(it => it.filter.id)\n  }\n\n  filterIdsChanged() {\n    this.shader.filterIds = this.filterIds\n    this.markDirty()\n  }\n\n  get filterParameters(): number[] {\n    let parameters = []\n    for(let filter of this.model.filters) {\n      let vectors = filter.filter.vectorize(...filter.values)\n      for(let vector of vectors) {\n        parameters.push(vector.r)\n        parameters.push(vector.g)\n        parameters.push(vector.b)\n        parameters.push(vector.a)\n      }\n    }\n    if(parameters.length === 0)\n      parameters.push(0, 0, 0, 0)\n    return parameters\n  }\n\n  get filterVisibilities(): number[] {\n    let parameters = []\n    for(let filter of this.model.filters) {\n      parameters.push(filter.visible ? 1 : 0)\n    }\n    if(parameters.length === 0)\n      parameters.push(0)\n    return parameters\n  }\n\n  mounted() {\n    this.initializeContext()\n    this.updateCanvas()\n  }\n\n  initializeContext() {\n    const canvas = this.$refs['spectrum'] as HTMLCanvasElement\n    this.context = canvas.getContext('webgl')!\n    this.nopShader = new SpectrumShader(this.context);\n    this.shader = new SpectrumShader(this.context);\n    this.shader.filterIds = this.filterIds\n\n    const gl = this.context\n    {\n      this.positionBuffer = gl.createBuffer()!;\n      // Select the positionBuffer as the one to apply buffer\n      // operations to from here out.\n\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n\n      const positions = [\n        -1.0, 1.0,  // top-left\n        1.0, 1.0,   // top-right\n        -1.0, -1.0, // bottom-left\n        1.0, -1.0,  // bottom-right\n      ];\n\n      gl.bufferData(gl.ARRAY_BUFFER,\n          new Float32Array(positions),\n          gl.STATIC_DRAW);\n    }\n\n    {\n      this.colorBuffer = gl.createBuffer()!;\n      this.uploadColors(\n          [0, 1, 1], // top-left\n          [1, 1, 1], // top-right\n          [0, 1, 0], // bottom-left\n          [1, 1, 0], // bottom-right\n      )\n    }\n  }\n\n  uploadColors(topLeft: number[], topRight: number[], bottomLeft: number[], bottomRight: number[]) {\n    const gl = this.context\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.colorBuffer);\n\n    gl.bufferData(gl.ARRAY_BUFFER,\n        new Float32Array(topLeft.concat(topRight, bottomLeft, bottomRight)),\n        gl.DYNAMIC_DRAW);\n  }\n\n  uploadComputedColors() {\n    let topLeft = [0, 0, 0]\n    let topRight = [0, 0, 0]\n    let bottomLeft = [0, 0, 0]\n    let bottomRight = [0, 0, 0]\n\n    function setup(index: number, component: SpectrumComponent, factor: number = 1) {\n      switch(component) {\n        case \"x\":\n          bottomLeft[index] = topLeft[index] = 0;\n          bottomRight[index] = topRight[index] = 1;\n          return;\n        case \"-x\":\n          bottomLeft[index] = topLeft[index] = 1;\n          bottomRight[index] = topRight[index] = 0;\n          return;\n        case \"y\":\n          topLeft[index] = topRight[index] = 0;\n          bottomLeft[index] = bottomRight[index] = 1;\n          return;\n        case \"-y\":\n          topLeft[index] = topRight[index] = 1;\n          bottomLeft[index] = bottomRight[index] = 0;\n          return;\n      }\n      bottomLeft[index] = topLeft[index] = bottomRight[index] = topRight[index] = component / factor\n    }\n\n    setup(0, this.hue, 360)\n    setup(1, this.saturation)\n    setup(2, this.lightness)\n\n    this.uploadColors(topLeft, topRight, bottomLeft, bottomRight)\n  }\n\n  updateCanvas() {\n    let shader = this.model.hideFilters ? this.nopShader : this.shader\n\n    shader.rebuildIfNeeded()\n    let gl = this.context\n\n    gl.clearColor(Math.random(), Math.random(), Math.random(), 1)\n    gl.clearDepth(1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n\n    // Tell WebGL how to pull out the positions from the position\n    // buffer into the vertexPosition attribute.\n    {\n      const numComponents = 2;  // pull out 2 values per iteration\n      const type = gl.FLOAT;    // the data in the buffer is 32bit floats\n      const normalize = false;  // don't normalize\n      const stride = 0;         // how many bytes to get from one set of values to the next\n                                // 0 = use type and numComponents above\n      const offset = 0;         // how many bytes inside the buffer to start from\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n      gl.vertexAttribPointer(\n          shader.positionAttribute,\n          numComponents,\n          type,\n          normalize,\n          stride,\n          offset);\n      gl.enableVertexAttribArray(shader.positionAttribute);\n    }\n\n    {\n      const numComponents = 3;  // pull out 2 values per iteration\n      const type = gl.FLOAT;    // the data in the buffer is 32bit floats\n      const normalize = false;  // don't normalize\n      const stride = 0;         // how many bytes to get from one set of values to the next\n                                // 0 = use type and numComponents above\n      const offset = 0;         // how many bytes inside the buffer to start from\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.colorBuffer);\n      gl.vertexAttribPointer(\n          shader.hslAttribute,\n          numComponents,\n          type,\n          normalize,\n          stride,\n          offset);\n      gl.enableVertexAttribArray(shader.hslAttribute);\n    }\n\n    // Tell WebGL to use our program when drawing\n\n    this.uploadComputedColors()\n\n    if(this.model.hideFilters) {\n      gl.useProgram(shader.program);\n    } else {\n      gl.useProgram(shader.program);\n      gl.uniform4fv(shader.paramUniform, new Float32Array(this.filterParameters))\n      gl.uniform1iv(shader.visibilityUniform, new Int32Array(this.filterVisibilities))\n    }\n\n    // gl.uniformMatrix4fv(\n    //     programInfo.uniformLocations.projectionMatrix,\n    //     false,\n    //     projectionMatrix);\n    // gl.uniformMatrix4fv(\n    //     programInfo.uniformLocations.modelViewMatrix,\n    //     false,\n    //     modelViewMatrix);\n\n    {\n      const offset = 0;\n      const vertexCount = 4;\n      gl.drawArrays(gl.TRIANGLE_STRIP, offset, vertexCount);\n    }\n\n  }\n}\n","import { render } from \"./ColorSpectrum.vue?vue&type=template&id=8d31b7f4&scoped=true&ts=true\"\nimport script from \"./ColorSpectrum.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorSpectrum.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorSpectrum.vue?vue&type=style&index=0&id=8d31b7f4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8d31b7f4\"]])\n\nexport default __exports__","\nimport {Options, Vue} from 'vue-class-component';\nimport {PropType} from \"vue\";\nimport {DragDelegate, DragHandler} from \"@/logic/DragDelegate\";\nimport ColorSpectrum, {SpectrumComponent} from \"@/components/ColorSpectrum.vue\";\nimport {clamp} from \"@/utils\";\nimport Model from \"@/logic/Model\";\nimport {Inject} from \"vue-property-decorator\";\n\ntype BorderSettings = {radius: number, width: number, transition: string}\n\n@Options({\n  components: {\n    Spectrum: ColorSpectrum\n  },\n  props: {\n    hue: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    saturation: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    lightness: {type: [String as PropType<SpectrumComponent>, Number as PropType<SpectrumComponent>], required: true},\n    x: {type: Number, required: false, default: 0.5},\n    y: {type: Number, required: false, default: 0.5},\n    renderWidth: {type: Number, required: true},\n    renderHeight: {type: Number, required: true},\n    border: {type: Object as PropType<BorderSettings>, required: false},\n  },\n  emits: [\n    'update:x',\n    'update:y',\n  ],\n  watch: {}\n})\nexport default class ColorPickerSpectrum extends Vue implements DragDelegate {\n  @Inject({from: 'model'})\n  model!: Model\n\n  x!: number\n  y!: number\n  hue!: string | number\n  saturation!: string | number\n  lightness!: string | number\n  border?: BorderSettings\n\n  get cursorStyle() {\n    return {\n      left: this.visualX * 100 + '%',\n      top: this.visualY * 100 + '%',\n    }\n  }\n\n  get visualX() {\n    return this.flipX(this.x)\n  }\n  get visualY() {\n    return this.flipY(this.y)\n  }\n\n  flipX(value: number) {\n    if([this.hue, this.saturation, this.lightness].indexOf('-x') != -1)\n      return 1 - value\n    else\n      return value\n  }\n  flipY(value: number) {\n    if([this.hue, this.saturation, this.lightness].indexOf('-y') != -1)\n      return 1 - value\n    else\n      return value\n  }\n\n  fractionalDrag: boolean = true\n\n  get dragElement(): HTMLElement {\n    return this.$refs.cursorArea as HTMLElement\n  }\n\n  dragEnd(x: number, y: number): void {\n    this.drag(x, y)\n  }\n\n  dragMouse(x: number, y: number) {\n    this.drag(x, y)\n  }\n\n  touchEnd(): void {\n    // nop because iOS will often snap the position back to the start in the touch end event\n  }\n\n  dragTouch(x: number, y: number) {\n    this.drag(x, y)\n  }\n\n  drag(x: number, y: number) {\n    this.$emit('update:x', clamp(0, this.flipX(x), 1))\n    this.$emit('update:y', clamp(0, this.flipY(y), 1))\n  }\n\n  startMouse(e: MouseEvent) {\n    DragHandler.startMouse(this, e)\n  }\n\n  startTouch(e: TouchEvent) {\n    DragHandler.startTouch(this, e)\n  }\n\n  spectrumSize: {width: number, height: number} = {width: 0, height: 0}\n\n  updateSpectrumSize() {\n    let main = this.$refs.spectrum\n    if(main) {\n      let {width, height} = ((main as Vue).$el as HTMLElement).getBoundingClientRect();\n      if(width !== 0 && height !== 0) {\n        this.spectrumSize = {width, height}\n      }\n    }\n  }\n\n  get cornerStyles() {\n    if(!this.border)\n      return {}\n\n    this.updateSpectrumSize()\n    let {width, height} = this.spectrumSize\n    let x = this.visualX * width\n    let y = this.visualY * height\n\n    let left = false\n    let right = false\n    let top = false\n    let bottom = false\n\n    if(width !== 0 && height !== 0) {\n      let pad = this.border.radius + 5;\n      left = x < pad;\n      right = width - x < pad;\n      top = y < pad;\n      bottom = height - y < pad;\n    }\n\n    let outerRadius = this.border.radius + 'px'\n    let innerRadius = (this.border.radius - this.border.width) + 'px'\n    let s = {\n      outer: {\n        'transition': 'border-radius ' + this.border.transition,\n        'border-top-left-radius': top && left ? '1px' : outerRadius,\n        'border-bottom-left-radius': bottom && left ? '1px' : outerRadius,\n        'border-top-right-radius': top && right ? '1px' : outerRadius,\n        'border-bottom-right-radius': bottom && right ? '1px' : outerRadius,\n      },\n      inner: {\n        'transition': 'border-radius ' + this.border.transition,\n        'border-top-left-radius': top && left ? 0 : innerRadius,\n        'border-bottom-left-radius': bottom && left ? 0 : innerRadius,\n        'border-top-right-radius': top && right ? 0 : innerRadius,\n        'border-bottom-right-radius': bottom && right ? 0 : innerRadius,\n      }\n    }\n    return s\n  }\n\n}\n","import { render } from \"./ColorPickerSpectrum.vue?vue&type=template&id=4b22c3f4&scoped=true&ts=true\"\nimport script from \"./ColorPickerSpectrum.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorPickerSpectrum.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorPickerSpectrum.vue?vue&type=style&index=0&id=4b22c3f4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4b22c3f4\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(\"div\", { \"tippy-no-target\": _ctx.tippyNoTarget }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 8, [\"tippy-no-target\"]))\n}","\nimport {Options, Vue} from \"vue-class-component\";\nimport {Prop, Watch} from \"vue-property-decorator\";\nimport tippy, {Instance as TippyInstance, Placement, Props} from \"tippy.js\";\n\n/**\n * A tooltip which will be attached to another element. The target element should be specified using the\n * `v-tippy-target` directive. When first being mounted, this component will search among its peers for a matching\n * element. This means that so long as your target name is unique among its peers (and optionally their descendents),\n * the tippy will bind to that element.\n *\n * When the target isn't specified, this will bind to an \"unnamed\" (`\"\"`) target. By default this will only bind to\n * immediate sibling elements. To search recursively, set `deepSearch` to a truthy value.\n *\n * For example:\n * ```\n * <div>\n *   <div v-tippy>Hello, I'm a target!</div>\n *   <tippy>Wow, such attachment</tippy>\n *   <div v-tippy:why>Why?</div>\n *   <tippy target=\"why\">Because!</tippy>\n *   <div>\n *     <div v-tippy:thats-deep>I'm not a sibling!</div>\n *   </div>\n *   <tippy target=\"thats-deep\" :deepSearch=\"true\">But I'll work!</tippy>\n * </div>\n * ```\n *\n * This attaching process is performed once, during the mounting process. However, you can update the attachments using\n * the `attach()` method.\n *\n * Several of the tippy events are exposed as vue events. For more information on these events, see\n * [the Tippy docs](https://atomiks.github.io/tippyjs/v6/all-props/#onhidden)\n * - `onShow(instance)` -> `show`\n * - `onShown(instance)` -> `shown`\n * - `onHidden(instance)` -> `hidden`\n * - `onHide(instance)` -> `hide`\n * - `onMount(instance)` -> `mount`\n * - `onTrigger(instance, event)` -> `trigger`\n * - `onUntrigger(instance, event)` -> `untrigger`\n *\n * You can cancel showing and hiding by explicitly passing the functions in `extra`, since Vue events can't have return\n * values.\n */\n@Options({\n  emits: [\n    'show',\n    'shown',\n    'hidden',\n    'hide',\n    'mount',\n    'trigger',\n    'untrigger'\n  ]\n})\nexport default class Tippy extends Vue {\n  /**\n   * The v-tippy target name. Defaults to `\"\"` (the default name used by `v-tippy`)\n   */\n  @Prop({required: false, type: String, default: \"\"})\n  target!: string\n\n  /**\n   * Whether to perform a deep search for targets (using querySelector) or to only search for direct siblings.\n   */\n  @Prop({required: false, type: Boolean, default: false})\n  deepSearch?: boolean\n\n  /**\n   * Extra options for tippy.js\n   */\n  @Prop({required: false})\n  extra?: Partial<Props>\n\n  /**\n   * Whether the tooltip should be enabled\n   */\n  @Prop({required: false, type: Boolean, default: true})\n  enabled?: boolean\n\n  /**\n   * Where to place the tooltip relative to the target element\n   */\n  @Prop({required: false, default: 'top'})\n  placement!: Placement\n\n  /**\n   * Whether the tippy should *always* be appended to the `<body>`. You don't need to specify a value for this property,\n   * its presence is sufficient (e.g. `<tippy on-body>`).\n   *\n   * Normally, tooltips will be appended to the document body element, *however*, interactive elements are appended\n   * adjacent to their trigger, in the interest of maintaining keyboard focus order.\n   * [more info](https://atomiks.github.io/tippyjs/v6/accessibility/#clipping-issues)\n   *\n   * This can cause zIndex issues, so sometimes it's necessary to put an interactive tooltip on the body element.\n   *\n   * This is a shorthand for `appendTo: () => document.body` in the `extra` property. (Note that you can't access\n   * `document` directly in a vue template, so you would have to use a computed property if you wanted to set this in\n   * `extra` yourself.\n   */\n  @Prop({required: false, type: Boolean})\n  onBody?: boolean\n\n  /**\n   * Whether the tippy should be interactive. You don't need to specify a value for this property, its presence is\n   * sufficient (e.g. `<tippy interactive>`).\n   *\n   * This is a shorthand for `interactive: true` in the `extra` property.\n   */\n  @Prop({required: false, type: Boolean})\n  interactive?: boolean\n\n  /**\n   * The events that trigger the tooltip. Setting the trigger key in `extra` will override this property.\n   */\n  @Prop({required: false, type: String})\n  trigger?: string\n\n  /**\n   * Only used when using the manual trigger. To show/hide when using another trigger, use `tippy().show()` and\n   * `tippy().hide()`\n   */\n  @Prop({required: false, type: Boolean})\n  visible?: boolean\n\n  /**\n   * Whether to hide the tooltip when the target element is clicked. Defaults to false when using the `'manual'`\n   * trigger, otherwise defaults to true.\n   */\n  @Prop({required: false, type: Boolean, default: null})\n  hideOnClick?: boolean | null\n\n  tip: TippyInstance | null = null\n  options: Partial<Props> = tippy.defaultProps // the options field is overwritten, not modified\n  tippyNoTarget: boolean = false\n\n  mounted() {\n    this.attach();\n  }\n\n  @Watch('enabled')\n  enabledChanged(val: boolean) {\n    if (!this.tip) return;\n    if (val) {\n      this.tip.enable();\n    } else {\n      this.tip.hide();\n      this.tip.disable();\n    }\n  }\n\n  @Watch('visible')\n  visibleChanged(val: boolean) {\n    if (!this.tip) return;\n    if (val && this.isManualTrigger) {\n      this.tip.show();\n    } else {\n      this.tip.hide();\n    }\n  }\n\n  updated() {\n    if (this.tip) {\n      this.tip.setProps(this.getOptions());\n    }\n  }\n\n  beforeDestroy() {\n    if (!this.tip) return;\n    this.tip.destroy();\n  }\n\n  get isManualTrigger() {\n    return this.trigger === \"manual\";\n  }\n\n  attach() {\n    this.$nextTick(() => {\n      if (this.tip) {\n        try {\n          this.tip.destroy();\n        } catch (error) {\n        }\n        this.tip = null;\n      }\n      let target: Element | null = null\n      if (this.target === \"_parent\") {\n        target = this.$el.parentElement\n      } else if (this.deepSearch) {\n        target = this.$el.parentElement.querySelector(`[data-tippy-target=\"${this.target}\"]`);\n      } else {\n        for (const sibling of this.$el.parentElement.children) {\n          if (sibling === this.$el) continue;\n          if (sibling instanceof HTMLElement && sibling.dataset && sibling.dataset.tippyTarget === this.target) {\n            target = sibling;\n            break;\n          }\n        }\n      }\n      if (!target) {\n        this.tippyNoTarget = true\n        throw new Error(`Unable to find tippy target named ${this.target}`)\n      }\n      this.tippyNoTarget = false\n      const tip = tippy(target, this.getOptions());\n      if (!tip) {\n        throw new Error(`Unable to create tippy instance`)\n      }\n      this.tip = tip;\n      this.$emit(\"init\", this.tip);\n      if (this.enabled === false) {\n        this.tip.disable();\n      }\n      if (this.isManualTrigger && this.visible === true) {\n        this.tip.show();\n      }\n    });\n  }\n\n  tippy() {\n    return this.tip;\n  }\n\n  getOptions(): Partial<Props> {\n    const options: Partial<Props> = {}\n    if(this.trigger) {\n      options.trigger = this.trigger;\n      if(this.isManualTrigger)\n        options.hideOnClick = false;\n    }\n    if(this.placement) {\n      options.placement = this.placement;\n    }\n    if(this.onBody === true) {\n      options.appendTo = () => document.body;\n    }\n    if(this.interactive === true) {\n      options.interactive = true;\n    }\n    if(this.hideOnClick !== null) {\n      options.hideOnClick = this.hideOnClick\n    }\n    Object.assign(options, this.extra || {});\n\n    options.onShow = this.wrap(options.onShow, 'show');\n    options.onShown = this.wrap(options.onShown, 'shown');\n    options.onHidden = this.wrap(options.onHidden, 'hidden');\n    options.onHide = this.wrap(options.onHide, 'hide');\n    options.onMount = this.wrap(options.onMount, 'mount');\n    options.onTrigger = this.wrap(options.onTrigger, 'trigger');\n    options.onUntrigger = this.wrap(options.onUntrigger, 'untrigger');\n    options.content = this.$el;\n\n    this.options = options;\n    return options;\n  }\n\n  private wrap<F extends Function>(existing: F | null | undefined, name: string): F {\n    return ((...args: unknown[]) => {\n      this.$emit(name, ...args)\n      if(existing)\n        return existing(...args)\n    }) as never\n  }\n}\n","import { render } from \"./Tippy.vue?vue&type=template&id=8b72601c&ts=true\"\nimport script from \"./Tippy.vue?vue&type=script&lang=ts\"\nexport * from \"./Tippy.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createVNode as _createVNode, resolveComponent as _resolveComponent, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-4475b888\")\n\n_pushScopeId(\"data-v-4475b888\")\nconst _hoisted_1 = { class: \"component-row\" }\nconst _hoisted_2 = { class: \"component-label\" }\nconst _hoisted_3 = { class: \"component-value\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_color_picker_spectrum = _resolveComponent(\"color-picker-spectrum\")!\n  const _component_tippy = _resolveComponent(\"tippy\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.label), 1),\n    _createVNode(_component_color_picker_spectrum, {\n      hue: _ctx.hueAxis,\n      saturation: _ctx.saturationAxis,\n      lightness: _ctx.lightnessAxis,\n      x: _ctx.componentValue,\n      \"onUpdate:x\": _cache[1] || (_cache[1] = ($event: any) => (_ctx.componentValue = $event)),\n      \"render-width\": 300,\n      \"render-height\": 1\n    }, null, 8, [\"hue\", \"saturation\", \"lightness\", \"x\"]),\n    _createVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.valueDisplay), 1),\n    _createVNode(_component_tippy, {\n      placement: \"right\",\n      target: \"_parent\",\n      extra: {hideOnClick: false}\n    }, {\n      default: _withId(() => [\n        _createTextVNode(_toDisplayString(_ctx.exactValueDisplay), 1)\n      ]),\n      _: 1\n    })\n  ]))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport ColorPickerSpectrum from \"@/components/ColorPickerSpectrum.vue\";\nimport {PropType} from \"vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {formatDecimal} from \"@/utils\";\nimport {Inject} from \"vue-property-decorator\";\n\n@Options({\n  components: {\n    Tippy,\n    ColorPickerSpectrum\n  },\n  props: {\n    label: {type: String, required: true},\n    component: {type: String as PropType<'hue' | 'saturation' | 'lightness'>, required: true},\n  }\n})\nexport default class ColorComponent extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n  component!: 'hue' | 'saturation' | 'lightness'\n\n  get hueAxis() {\n    return this.component == 'hue' ? 'x' : this.model.hue\n  }\n  get saturationAxis() {\n    return this.component == 'saturation' ? 'x' : this.model.saturation\n  }\n  get lightnessAxis() {\n    return this.component == 'lightness' ? 'x' : this.model.lightness\n  }\n\n  get componentValue() {\n    switch (this.component) {\n      case \"hue\":\n        return this.model.normalHue\n      case \"saturation\":\n        return this.model.saturation\n      case \"lightness\":\n        return this.model.lightness\n    }\n    return 0\n  }\n\n  set componentValue(value: number) {\n    switch (this.component) {\n      case \"hue\":\n        this.model.normalHue = value\n        break;\n      case \"saturation\":\n        this.model.saturation = value\n        break;\n      case \"lightness\":\n        this.model.lightness = value\n        break;\n    }\n  }\n\n  get valueDisplay() {\n    switch (this.component) {\n      case \"hue\":\n        return Math.round(this.model.hue)\n      case \"saturation\":\n        return Math.round(this.model.saturation * 100)\n      case \"lightness\":\n        return Math.round(this.model.lightness * 100)\n    }\n    return ''\n  }\n\n  get exactValueDisplay() {\n    switch (this.component) {\n      case \"hue\":\n        return formatDecimal(this.model.hue, 2)\n      case \"saturation\":\n        return formatDecimal(this.model.saturation * 100, 2)\n      case \"lightness\":\n        return formatDecimal(this.model.lightness * 100, 2)\n    }\n    return ''\n  }\n}\n","import { render } from \"./ColorComponent.vue?vue&type=template&id=4475b888&scoped=true&ts=true\"\nimport script from \"./ColorComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorComponent.vue?vue&type=style&index=0&id=4475b888&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4475b888\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-f3180f66\")\n\n_pushScopeId(\"data-v-f3180f66\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Copied\")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_tippy = _resolveComponent(\"tippy\")!\n\n  return (_openBlock(), _createBlock(\"div\", {\n    class: \"swatch\",\n    style: _ctx.style,\n    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.copyFiltered && _ctx.copyFiltered(...args)))\n  }, [\n    _createTextVNode(_toDisplayString(_ctx.color.hex()) + \" \", 1),\n    _createVNode(_component_tippy, {\n      target: \"_parent\",\n      trigger: \"manual\",\n      visible: _ctx.copyVisible\n    }, {\n      default: _withId(() => [\n        _hoisted_1\n      ]),\n      _: 1\n    }, 8, [\"visible\"])\n  ], 4))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport ColorPickerSpectrum from \"@/components/ColorPickerSpectrum.vue\";\nimport {Color} from \"chroma-js\";\nimport {PropType} from \"vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {swatchStyle} from \"@/utils\";\n\n@Options({\n  components: {\n    Tippy,\n    ColorPickerSpectrum\n  },\n  props: {\n    color: {type: Object as PropType<Color>, required: true},\n  }\n})\nexport default class ColorSwatch extends Vue {\n  color!: Color\n  copyVisible: boolean = false\n  copyTimeout: number = -1\n\n  get style() {\n    return swatchStyle(this.color)\n  }\n\n  copyFiltered() {\n    navigator.clipboard.writeText(this.color.hex().substring(1).toUpperCase()).then(() => {\n      this.copyVisible = true\n      clearTimeout(this.copyTimeout)\n      this.copyTimeout = setTimeout(() => {\n        this.copyVisible = false\n      }, 750)\n    })\n  }\n}\n","import { render } from \"./ColorSwatch.vue?vue&type=template&id=f3180f66&scoped=true&ts=true\"\nimport script from \"./ColorSwatch.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorSwatch.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorSwatch.vue?vue&type=style&index=0&id=f3180f66&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f3180f66\"]])\n\nexport default __exports__","import { createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-19f371ba\")\n\n_pushScopeId(\"data-v-19f371ba\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" #\")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  return (_openBlock(), _createBlock(\"div\", {\n    class: \"swatch\",\n    style: _ctx.style\n  }, [\n    _hoisted_1,\n    _createVNode(\"div\", {\n      class: \"hex-editor\",\n      ref: \"hexEditor\",\n      contenteditable: \"true\",\n      spellcheck: \"false\",\n      onInput: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.hexEditorChanged && _ctx.hexEditorChanged(...args))),\n      onFocus: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.hexEditorFocus && _ctx.hexEditorFocus(...args))),\n      onBlur: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.hexEditorBlur && _ctx.hexEditorBlur(...args))),\n      onKeydown: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.hexEditorKeydown && _ctx.hexEditorKeydown(...args)))\n    }, null, 544)\n  ], 4))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport ColorPickerSpectrum from \"@/components/ColorPickerSpectrum.vue\";\nimport chroma, {Color} from \"chroma-js\";\nimport {PropType} from \"vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {Watch} from \"vue-property-decorator\";\nimport {swatchStyle} from \"@/utils\";\n\n@Options({\n  components: {\n    Tippy,\n    ColorPickerSpectrum\n  },\n  props: {\n    color: {type: Object as PropType<Color>},\n  },\n  emits: [\n    'update:color'\n  ]\n})\nexport default class ColorEditSwatch extends Vue {\n  color!: Color\n  hexEditorFocused: boolean = false\n\n  get hexEditorRef(): HTMLElement {\n    return this.$refs['hexEditor'] as HTMLElement\n  }\n\n  get style() {\n    return swatchStyle(this.color)\n  }\n\n  hexEditorFocus() {\n    this.hexEditorFocused = true\n\n    // https://stackoverflow.com/a/3806004\n    setTimeout(() => {\n      let sel, range;\n      if (window.getSelection && document.createRange) {\n        range = document.createRange();\n        range.selectNodeContents(this.hexEditorRef);\n        sel = window.getSelection()!;\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }, 1);\n  }\n\n  hexEditorBlur() {\n    this.hexEditorFocused = false\n  }\n\n  hexEditorChanged(event: InputEvent) {\n    let hex = (event.target as HTMLElement).innerText\n    if(chroma.valid(hex)) {\n      this.$emit('update:color', chroma(hex))\n    }\n  }\n\n  hexEditorKeydown(event: KeyboardEvent) {\n    if(event.key == \"Enter\") {\n      event.preventDefault()\n      this.hexEditorRef.blur()\n    }\n  }\n\n  @Watch('hexEditorFocused')\n  focusChanged() {\n    if(!this.hexEditorFocused) {\n      this.updateHexEditorText()\n    }\n  }\n\n  @Watch('color')\n  colorChanged() {\n    if(!this.hexEditorFocused) {\n      this.updateHexEditorText()\n    }\n  }\n\n  updateHexEditorText() {\n    this.hexEditorRef.innerText = this.color.hex().substring(1)\n  }\n\n  mounted() {\n    this.updateHexEditorText()\n  }\n}\n","import { render } from \"./ColorEditSwatch.vue?vue&type=template&id=19f371ba&scoped=true&ts=true\"\nimport script from \"./ColorEditSwatch.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorEditSwatch.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorEditSwatch.vue?vue&type=style&index=0&id=19f371ba&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19f371ba\"]])\n\nexport default __exports__","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport ColorPickerSpectrum from \"@/components/ColorPickerSpectrum.vue\";\nimport chroma, {Color} from \"chroma-js\";\nimport {PropType} from \"vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {formatDecimal} from \"@/utils\";\nimport {Inject, Watch} from \"vue-property-decorator\";\nimport ColorComponent from \"@/components/ColorComponent.vue\";\nimport ColorSwatch from \"@/components/ColorSwatch.vue\";\nimport ColorEditSwatch from \"@/components/ColorEditSwatch.vue\";\n\n@Options({\n  components: {\n    ColorEditSwatch,\n    ColorSwatch,\n    ColorComponent,\n    Tippy,\n    ColorPickerSpectrum\n  },\n  props: {\n    hideMainSpectrum: {type: Boolean, default: false},\n  }\n})\nexport default class ColorPanel extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n}\n","import { render } from \"./ColorPanel.vue?vue&type=template&id=c07c105a&scoped=true&ts=true\"\nimport script from \"./ColorPanel.vue?vue&type=script&lang=ts\"\nexport * from \"./ColorPanel.vue?vue&type=script&lang=ts\"\n\nimport \"./ColorPanel.vue?vue&type=style&index=0&id=c07c105a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c07c105a\"]])\n\nexport default __exports__","\nimport {Options, Vue} from 'vue-class-component';\nimport {ParameterizedFilter} from \"@/logic/Filter\";\nimport {filterRegistry} from \"@/logic/Filters\";\nimport Model from \"@/logic/Model\";\nimport ColorPanel from \"@/components/ColorPanel.vue\";\nimport ColorPickerSpectrum from \"@/components/ColorPickerSpectrum.vue\";\nimport ColorComponent from \"@/components/ColorComponent.vue\";\nimport ColorEditSwatch from \"@/components/ColorEditSwatch.vue\";\nimport ColorSwatch from \"@/components/ColorSwatch.vue\";\nimport {Provide} from \"vue-property-decorator\";\n\n@Options({\n  components: {ColorSwatch, ColorEditSwatch, ColorComponent, ColorPickerSpectrum, ColorPanel},\n  props: {}\n})\nexport default class App extends Vue {\n  @Provide('model')\n  rootModel: Model = new Model()\n\n  mounted() {\n    let shareData = new URL(location.href).searchParams.get('share')\n    if (shareData) {\n      try {\n        this.rootModel.decode(shareData)\n        history.replaceState(null, '', '.');\n      } catch(e) {\n        console.error(e)\n      }\n    } else {\n      this.rootModel.addFilter(new ParameterizedFilter(filterRegistry[\"posterize\"])).values[0] = 3\n    }\n  }\n\n  get hasHistory() {\n    return this.$route.meta.back\n  }\n\n  goBack() {\n    this.$router.back()\n  }\n}\n","import { render } from \"./App.vue?vue&type=template&id=2053f832&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2053f832&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=2053f832&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2053f832\"]])\n\nexport default __exports__","import tippy, {Props} from \"tippy.js\";\n\nconst sharpArrow = '<svg width=\"16\" height=\"10\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"arrow\" d=\"M 0 8 L 8 0 L 16 8\"/></svg>'\n\ntippy.setDefaultProps({\n  theme: 'helper',\n  arrow: sharpArrow,\n  offset: [0, 8],\n})\n\nexport function createOptions(value: Partial<Props> | string): Partial<Props> {\n  let options = typeof value === \"string\" ? {content: value as string} : value;\n  return Object.assign({}, tippy.defaultProps, options);\n}\n","import tippy from \"tippy.js\";\nimport {createOptions} from \"./TippyOptions\";\nimport {Directive} from \"vue\";\n\nexport const TippyDirective: Directive<HTMLElement> = {\n  mounted(el, binding) {\n    if (binding.value === undefined) {\n      el.dataset.tippyTarget = binding.arg ?? \"\"\n    } else {\n      tippy(el, createOptions(binding.value))\n    }\n  }, // new\n  updated(el, binding) {\n    if (el.dataset.tippyTarget !== undefined) {\n      el.dataset.tippyTarget = binding.arg ?? \"\"\n    } else {\n      if(el._tippy) {\n        el._tippy.setProps(createOptions(binding.value))\n      } else {\n        tippy(el, createOptions(binding.value))\n      }\n    }\n  },\n  unmounted(el) {\n    if (el.dataset.tippyTarget !== undefined) {\n      delete el.dataset.tippyTarget;\n    } else if (el._tippy) {\n      el._tippy.destroy()\n    }\n  },\n}\n","import {library} from '@fortawesome/fontawesome-svg-core'\nimport {\n  faArrowLeft,\n  faEye,\n  faEyeSlash,\n  faFolder, faFolderOpen,\n  faGripLines,\n  faICursor, faLink,\n  faMinus,\n  faMinusCircle,\n  faPlus,\n  faSave,\n  faSlidersH,\n  faTimes, faTrashAlt,\n} from '@fortawesome/free-solid-svg-icons'\n\nexport function initIcons() {\n  library.add(\n      faGripLines,\n      faEye,\n      faEyeSlash,\n      faMinusCircle,\n      faPlus,\n      faMinus,\n      faTimes,\n      faArrowLeft,\n      faSlidersH,\n      faICursor,\n      faFolder,\n      faFolderOpen,\n      faSave,\n      faTrashAlt,\n      faLink\n  )\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-bb83e284\")\n\n_pushScopeId(\"data-v-bb83e284\")\nconst _hoisted_1 = { class: \"filter-panel\" }\nconst _hoisted_2 = {\n  class: \"header-name\",\n  style: {\"grid-area\":\"name\"}\n}\nconst _hoisted_3 = {\n  class: \"body-scroll\",\n  style: {\"grid-area\":\"list\"}\n}\nconst _hoisted_4 = { class: \"filter-item\" }\nconst _hoisted_5 = { class: \"icon-button filter-handle\" }\nconst _hoisted_6 = { class: \"filter-name\" }\nconst _hoisted_7 = { class: \"filter-parameters\" }\nconst _hoisted_8 = { class: \"parameter-name\" }\nconst _hoisted_9 = { key: 3 }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_fa = _resolveComponent(\"fa\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_number_input = _resolveComponent(\"number-input\")!\n  const _component_slider_input = _resolveComponent(\"slider-input\")!\n  const _component_draggable = _resolveComponent(\"draggable\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_router_link, {\n      to: \"/add\",\n      class: \"icon-button\",\n      style: {\"grid-area\":\"add\"}\n    }, {\n      default: _withId(() => [\n        _createVNode(_component_fa, { icon: \"plus\" })\n      ]),\n      _: 1\n    }),\n    _createVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.model.name), 1),\n    _createVNode(_component_router_link, {\n      to: \"/save\",\n      class: \"icon-button\",\n      style: {\"grid-area\":\"eye\"}\n    }, {\n      default: _withId(() => [\n        _createVNode(_component_fa, { icon: \"folder\" })\n      ]),\n      _: 1\n    }),\n    _createVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_draggable, {\n        modelValue: _ctx.model.filters,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_ctx.model.filters = $event)),\n        \"item-key\": \"id\",\n        handle: \".filter-handle\",\n        animation: \"150\"\n      }, {\n        item: _withId(({element, index}) => [\n          _createVNode(\"div\", _hoisted_4, [\n            _createVNode(\"div\", _hoisted_5, [\n              _createVNode(_component_fa, { icon: \"grip-lines\" })\n            ]),\n            _createVNode(\"div\", {\n              class: \"icon-button filter-show\",\n              onClick: _withModifiers(($event: any) => (_ctx.toggle(index)), [\"stop\"])\n            }, [\n              _createVNode(_component_fa, {\n                icon: element.visible ? 'eye' : 'eye-slash'\n              }, null, 8, [\"icon\"])\n            ], 8, [\"onClick\"]),\n            _createVNode(\"div\", _hoisted_6, _toDisplayString(element.filter.name), 1),\n            _createVNode(\"div\", {\n              class: \"icon-button filter-remove\",\n              onClick: ($event: any) => (_ctx.removeFilter(index))\n            }, [\n              _createVNode(_component_fa, { icon: \"minus-circle\" })\n            ], 8, [\"onClick\"]),\n            _createVNode(\"div\", _hoisted_7, [\n              (_openBlock(true), _createBlock(_Fragment, null, _renderList(element.parameters, (parameter, i) => {\n                return (_openBlock(), _createBlock(_Fragment, { key: i }, [\n                  _createVNode(\"div\", _hoisted_8, _toDisplayString(parameter.name), 1),\n                  (parameter.type === 'number')\n                    ? (_openBlock(), _createBlock(_component_number_input, {\n                        key: 0,\n                        class: \"parameter-value\",\n                        control: parameter,\n                        value: element.values[i],\n                        onInput: ($event: any) => (element.values[i] = $event)\n                      }, null, 8, [\"control\", \"value\", \"onInput\"]))\n                    : (parameter.type === 'color')\n                      ? (_openBlock(), _createBlock(\"div\", {\n                          key: 1,\n                          class: \"parameter-value color-parameter\",\n                          onClick: ($event: any) => (_ctx.editColor(index, i))\n                        }, [\n                          _createVNode(\"div\", {\n                            style: _ctx.swatchStyle(element.values[i])\n                          }, _toDisplayString(_ctx.swatchHex(element.values[i])), 5)\n                        ], 8, [\"onClick\"]))\n                      : (parameter.type === 'slider')\n                        ? (_openBlock(), _createBlock(_component_slider_input, {\n                            key: 2,\n                            control: parameter,\n                            value: element.values[i],\n                            onInput: ($event: any) => (element.values[i] = $event)\n                          }, null, 8, [\"control\", \"value\", \"onInput\"]))\n                        : (_openBlock(), _createBlock(\"div\", _hoisted_9, \" <<\" + _toDisplayString(parameter.type) + \">> \", 1))\n                ], 64))\n              }), 128))\n            ])\n          ])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ])\n  ]))\n})","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-1d1cb361\")\n\n_pushScopeId(\"data-v-1d1cb361\")\nconst _hoisted_1 = { class: \"number-input\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_fa = _resolveComponent(\"fa\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    (_ctx.useSteppers)\n      ? (_openBlock(), _createBlock(\"div\", {\n          key: 0,\n          class: \"stepper\",\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.stepDown && _ctx.stepDown(...args)))\n        }, [\n          _createVNode(_component_fa, { icon: \"minus\" })\n        ]))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createVNode(\"input\", {\n      type: \"text\",\n      class: {'invalid': !_ctx.valid},\n      inputmode: _ctx.inputMode,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.state = $event)),\n      onFocus: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.focus && _ctx.focus(...args))),\n      onBlur: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.blur && _ctx.blur(...args)))\n    }, null, 42, [\"inputmode\"]), [\n      [_vModelText, _ctx.state]\n    ]),\n    (_ctx.useSteppers)\n      ? (_openBlock(), _createBlock(\"div\", {\n          key: 1,\n          class: \"stepper\",\n          onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.stepUp && _ctx.stepUp(...args)))\n        }, [\n          _createVNode(_component_fa, { icon: \"plus\" })\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n})","\nimport { Options, Vue } from 'vue-class-component';\nimport {NumberControl} from \"@/logic/Filter\";\nimport {PropType} from \"vue\";\nimport {formatDecimal, roundDecimals} from \"@/utils\";\n\n@Options({\n  components: {},\n  props: {\n    control: Object as PropType<NumberControl>,\n    value: Number\n  },\n  emits: [\n    'input'\n  ],\n  watch: {\n    'value': 'valueChanged',\n    'state': 'stateChanged'\n  }\n})\nexport default class NumberInput extends Vue {\n  control!: NumberControl\n  value!: number\n\n  valid: boolean = true\n  focused: boolean = false\n  state: string = ''\n\n  get useSteppers() {\n    return this.control.step !== undefined\n  }\n\n  get inputMode() {\n    return this.control.precision == 0 ? 'numeric' : 'decimal';\n  }\n\n  valueChanged() {\n    if(!this.focused)\n      this.updateState()\n  }\n\n  stateChanged() {\n    let pattern = this.control.precision == 0 ? NumberInput.int_regex : NumberInput.float_regex\n    this.valid = pattern.test(this.state)\n    let value = roundDecimals(parseFloat(this.state), this.control.precision)\n    this.valid &&= this.boundsCheck(value)\n    if(!this.valid)\n      return\n    this.$emit('input', value)\n  }\n\n  stepDown() {\n    let step = this.control.step\n    if(step === undefined) return\n    let value = roundDecimals(this.value - step, this.control.precision)\n    if(this.boundsCheck(value))\n      this.$emit('input', value)\n  }\n\n  stepUp() {\n    let step = this.control.step\n    if(step === undefined) return\n    let value = roundDecimals(this.value + step, this.control.precision)\n    if(this.boundsCheck(value))\n      this.$emit('input', value)\n  }\n\n  boundsCheck(value: number): boolean {\n    if(this.control.min !== undefined && value < this.control.min)\n      return false\n    if(this.control.max !== undefined && value > this.control.max)\n      return false\n    return true\n  }\n\n  focus() {\n    this.focused = true\n  }\n\n  blur() {\n    this.focused = false\n    this.valid = true\n    this.updateState()\n  }\n\n  mounted() {\n    this.updateState()\n  }\n\n  private updateState() {\n    this.state = formatDecimal(this.value, this.control.precision)\n  }\n\n  static float_regex = /^\\s*-?(?:\\d*\\.\\d+|\\d+\\.\\d*|\\d+)\\s*$/\n  static int_regex = /^\\s*-?\\d+\\s*$/\n}\n","import { render } from \"./NumberInput.vue?vue&type=template&id=1d1cb361&scoped=true&ts=true\"\nimport script from \"./NumberInput.vue?vue&type=script&lang=ts\"\nexport * from \"./NumberInput.vue?vue&type=script&lang=ts\"\n\nimport \"./NumberInput.vue?vue&type=style&index=0&id=1d1cb361&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d1cb361\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, resolveDirective as _resolveDirective, withModifiers as _withModifiers, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-37d568f4\")\n\n_pushScopeId(\"data-v-37d568f4\")\nconst _hoisted_1 = { class: \"slider-input\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_number_input = _resolveComponent(\"number-input\")!\n  const _component_fa = _resolveComponent(\"fa\")!\n  const _component_tippy = _resolveComponent(\"tippy\")!\n  const _directive_tippy = _resolveDirective(\"tippy\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createVNode(_component_number_input, {\n      control: _ctx.numberControl,\n      value: _ctx.roundedValue,\n      onInput: _cache[1] || (_cache[1] = ($event: any) => (_ctx.emitValue($event)))\n    }, null, 8, [\"control\", \"value\"]), [\n      [_vShow, _ctx.textMode]\n    ]),\n    _withDirectives(_createVNode(\"input\", {\n      type: \"range\",\n      min: _ctx.control.min,\n      max: _ctx.control.max,\n      value: _ctx.value,\n      step: _ctx.control.snap,\n      onInput: _cache[2] || (_cache[2] = ($event: any) => (_ctx.emitValue($event.target.value)))\n    }, null, 40, [\"min\", \"max\", \"value\", \"step\"]), [\n      [_vShow, !_ctx.textMode],\n      [_directive_tippy]\n    ]),\n    _createVNode(\"div\", {\n      class: \"icon-button filter-show\",\n      onClick: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.toggleText && _ctx.toggleText(...args)), [\"stop\"]))\n    }, [\n      _createVNode(_component_fa, {\n        icon: _ctx.textMode ? 'sliders-h' : 'i-cursor'\n      }, null, 8, [\"icon\"])\n    ]),\n    _createVNode(_component_tippy, {\n      placement: \"right\",\n      extra: {hideOnClick: false}\n    }, {\n      default: _withId(() => [\n        _createTextVNode(_toDisplayString(_ctx.valueDisplay), 1)\n      ]),\n      _: 1\n    })\n  ]))\n})","\nimport { Options, Vue } from 'vue-class-component';\nimport {NumberControl, SliderControl} from \"@/logic/Filter\";\nimport {PropType} from \"vue\";\nimport NumberInput from \"@/components/parameter/NumberInput.vue\";\nimport {formatDecimal, roundDecimals} from \"@/utils\";\nimport Tippy from \"@/lib/Tippy.vue\";\n\n@Options({\n  name: 'slider-input',\n  components: {Tippy, NumberInput},\n  props: {\n    control: Object as PropType<SliderControl>,\n    value: Number\n  },\n  emits: [\n    'input'\n  ],\n})\nexport default class SliderInput extends Vue {\n  control!: SliderControl\n  value!: number\n\n  textMode: boolean = false\n\n  get numberControl(): NumberControl {\n    return {\n      name: '',\n      id: '',\n      type: 'number',\n      default: this.control.default,\n      min: this.control.textMin === null ? undefined : this.control.textMin ?? this.control.min,\n      max: this.control.textMax === null ? undefined : this.control.textMax ?? this.control.max,\n      step: this.control.step,\n      precision: this.control.precision,\n    }\n  }\n\n  get roundedValue(): number {\n    return roundDecimals(this.value, this.control.precision)\n  }\n\n  get valueDisplay(): string {\n    return formatDecimal(this.value, this.control.precision)\n  }\n\n  emitValue(value: number) {\n    this.$emit('input', roundDecimals(value, this.control.precision))\n  }\n\n  toggleText() {\n    this.textMode = !this.textMode\n  }\n}\n","import { render } from \"./SliderInput.vue?vue&type=template&id=37d568f4&scoped=true&ts=true\"\nimport script from \"./SliderInput.vue?vue&type=script&lang=ts\"\nexport * from \"./SliderInput.vue?vue&type=script&lang=ts\"\n\nimport \"./SliderInput.vue?vue&type=style&index=0&id=37d568f4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37d568f4\"]])\n\nexport default __exports__","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport draggable from \"vuedraggable\";\nimport NumberInput from \"@/components/parameter/NumberInput.vue\";\nimport {vec3} from \"@/logic/math/vec\";\nimport chroma from \"chroma-js\";\nimport ColorPanel from \"@/components/ColorPanel.vue\";\nimport SliderInput from \"@/components/parameter/SliderInput.vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {Inject} from \"vue-property-decorator\";\n\n@Options({\n  components: {\n    Tippy,\n    SliderInput,\n    ColorPanel,\n    NumberInput,\n    draggable\n  },\n  props: {\n  },\n  watch: {\n  }\n})\nexport default class FilterList extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n\n  removeFilter(idx: number) {\n    this.model.filters.splice(idx, 1);\n  }\n\n  toggle(idx: number) {\n    this.model.filters[idx].visible = !this.model.filters[idx].visible\n  }\n\n  swatchHex(color: vec3): string {\n    return chroma.gl(color.r, color.g, color.b).hex()\n  }\n\n  private swatchStyle(value: vec3) {\n    let color = chroma.gl(value.r, value.g, value.b)\n    let whiteContrast = chroma.contrast('white', color)\n    let blackContrast = chroma.contrast('black', color)\n    return {\n      'color': blackContrast > whiteContrast ? 'black' : 'white',\n      'background-color': color.hex()\n    }\n  }\n\n  editColor(filterIndex: number, parameterIndex: number) {\n    this.$router.push(`/color/${filterIndex}/${parameterIndex}`)\n  }\n}\n","import { render } from \"./FilterList.vue?vue&type=template&id=bb83e284&scoped=true&ts=true\"\nimport script from \"./FilterList.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterList.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterList.vue?vue&type=style&index=0&id=bb83e284&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bb83e284\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-05be1156\")\n\n_pushScopeId(\"data-v-05be1156\")\nconst _hoisted_1 = { class: \"filter-panel\" }\nconst _hoisted_2 = { class: \"body-scroll\" }\nconst _hoisted_3 = { class: \"add-list\" }\nconst _hoisted_4 = { class: \"add-name\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_fa = _resolveComponent(\"fa\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(\"div\", _hoisted_2, [\n      _createVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.addOptions, (filter) => {\n          return (_openBlock(), _createBlock(_Fragment, {\n            key: filter.id\n          }, [\n            _createVNode(\"div\", {\n              class: \"icon-button add-plus\",\n              onClick: ($event: any) => (_ctx.add(filter.id))\n            }, [\n              _createVNode(_component_fa, { icon: \"plus\" })\n            ], 8, [\"onClick\"]),\n            _createVNode(\"div\", _hoisted_4, _toDisplayString(filter.name), 1)\n          ], 64))\n        }), 128))\n      ])\n    ])\n  ]))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport {PropType} from \"vue\";\nimport draggable from \"vuedraggable\";\nimport {filterRegistry, filterMenu} from \"@/logic/Filters\";\nimport {ParameterizedFilter} from \"@/logic/Filter\";\nimport NumberInput from \"@/components/parameter/NumberInput.vue\";\nimport {vec3, vec4} from \"@/logic/math/vec\";\nimport chroma, {Color} from \"chroma-js\";\nimport ColorPanel from \"@/components/ColorPanel.vue\";\nimport SliderInput from \"@/components/parameter/SliderInput.vue\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {Inject, Provide, Watch} from \"vue-property-decorator\";\n\ntype PanelMode = 'filters' | 'add' | 'color' | 'save'\n\n@Options({\n  components: {\n  },\n  props: {\n  },\n  watch: {\n  }\n})\nexport default class FilterAddMenu extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n\n  add(id: string) {\n    this.model.filters.push(new ParameterizedFilter(filterRegistry[id]))\n    this.$router.back()\n  }\n\n  get addOptions() {\n    return filterMenu.map(id => ({name: filterRegistry[id].name, id}))\n  }\n}\n","import { render } from \"./FilterAddMenu.vue?vue&type=template&id=05be1156&scoped=true&ts=true\"\nimport script from \"./FilterAddMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterAddMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterAddMenu.vue?vue&type=style&index=0&id=05be1156&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05be1156\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-56a332e6\")\n\n_pushScopeId(\"data-v-56a332e6\")\nconst _hoisted_1 = { class: \"color-mode\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_color_panel = _resolveComponent(\"color-panel\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_color_panel, { class: \"color-picker\" })\n  ]))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport {filterRegistry, filterMenu} from \"@/logic/Filters\";\nimport {ControlValue, ParameterizedFilter} from \"@/logic/Filter\";\nimport {vec3, vec4} from \"@/logic/math/vec\";\nimport chroma, {Color} from \"chroma-js\";\nimport ColorPanel from \"@/components/ColorPanel.vue\";\nimport {Inject, Provide, Watch} from \"vue-property-decorator\";\n\ntype PanelMode = 'filters' | 'add' | 'color' | 'save'\n\n@Options({\n  components: {\n    ColorPanel,\n  },\n  props: {\n    filterIndex: {type: Number, required: true},\n    parameterIndex: {type: Number, required: true},\n  },\n})\nexport default class FilterColorEditor extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n  filterIndex!: number\n  parameterIndex!: number\n\n  @Provide('model')\n  subModel: Model = new Model()\n\n  get controlValue(): ControlValue {\n    return this.model.filters[this.filterIndex].values[this.parameterIndex]\n  }\n\n  set controlValue(value: ControlValue) {\n    this.model.filters[this.filterIndex].values[this.parameterIndex] = value\n  }\n\n  get params() {\n    return [this.filterIndex, this.parameterIndex]\n  }\n\n  @Watch('params', {immediate: true})\n  colorChanged() {\n    let rgb = this.controlValue as vec3\n    this.subModel.rawColor = chroma.gl(rgb.r, rgb.g, rgb.b)\n  }\n\n  @Watch('subModel.rawColor')\n  colorEdited() {\n    this.controlValue = new vec4(this.subModel.rawColor.gl()).rgb\n  }\n}\n","import { render } from \"./FilterColorEditor.vue?vue&type=template&id=56a332e6&scoped=true&ts=true\"\nimport script from \"./FilterColorEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterColorEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterColorEditor.vue?vue&type=style&index=0&id=56a332e6&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56a332e6\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, vModelText as _vModelText, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-5e5c2478\")\n\n_pushScopeId(\"data-v-5e5c2478\")\nconst _hoisted_1 = { class: \"save-panel\" }\nconst _hoisted_2 = {\n  class: \"filter-name\",\n  style: {\"grid-area\":\"name\"}\n}\nconst _hoisted_3 = {\n  class: \"save-top-controls\",\n  style: {\"grid-area\":\"top\"}\n}\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Copied\")\nconst _hoisted_5 = {\n  class: \"body-scroll\",\n  style: {\"grid-area\":\"body\"}\n}\nconst _hoisted_6 = { class: \"saved-list\" }\nconst _hoisted_7 = { class: \"\" }\nconst _hoisted_8 = {\n  class: \"save-bottom-controls\",\n  style: {\"grid-area\":\"bottom\"}\n}\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_tippy = _resolveComponent(\"tippy\")!\n  const _component_fa = _resolveComponent(\"fa\")!\n  const _directive_tippy = _resolveDirective(\"tippy\")!\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.model.name), 1),\n    _createVNode(\"div\", _hoisted_3, [\n      _withDirectives(_createVNode(\"input\", {\n        type: \"text\",\n        ref: \"clipboardField\",\n        value: _ctx.model.encoded,\n        onFocus: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.clipboardFieldFocus && _ctx.clipboardFieldFocus(...args))),\n        onChange: _cache[2] || (_cache[2] = ($event: any) => (_ctx.loadClipboard($event.target.value)))\n      }, null, 40, [\"value\"]), [\n        [_directive_tippy, void 0, \"paste\"]\n      ]),\n      _createVNode(_component_tippy, {\n        target: \"paste\",\n        trigger: \"manual\",\n        visible: _ctx.pasteVisible,\n        placement: \"top\"\n      }, {\n        default: _withId(() => [\n          _createTextVNode(_toDisplayString(_ctx.pasteStatus), 1)\n        ]),\n        _: 1\n      }, 8, [\"visible\"]),\n      _withDirectives(_createVNode(\"div\", {\n        class: \"icon-button\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.copyPermalink && _ctx.copyPermalink(...args)))\n      }, [\n        _createVNode(_component_fa, { icon: \"link\" })\n      ], 512), [\n        [_directive_tippy, void 0, \"permalink\"]\n      ]),\n      _createVNode(_component_tippy, {\n        target: \"permalink\",\n        trigger: \"manual\",\n        visible: _ctx.permalinkVisible,\n        placement: \"left\"\n      }, {\n        default: _withId(() => [\n          _hoisted_4\n        ]),\n        _: 1\n      }, 8, [\"visible\"])\n    ]),\n    _createVNode(\"div\", _hoisted_5, [\n      _createVNode(\"div\", _hoisted_6, [\n        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.savedNames, (name) => {\n          return (_openBlock(), _createBlock(_Fragment, { key: name }, [\n            _createVNode(\"div\", {\n              class: \"icon-button\",\n              onClick: ($event: any) => (_ctx.loadSaved(name))\n            }, [\n              _createVNode(_component_fa, { icon: \"folder-open\" })\n            ], 8, [\"onClick\"]),\n            _createVNode(\"div\", _hoisted_7, _toDisplayString(name), 1),\n            _createVNode(\"div\", {\n              class: \"icon-button\",\n              onClick: ($event: any) => (_ctx.deleteSaved(name))\n            }, [\n              _createVNode(_component_fa, { icon: \"trash-alt\" })\n            ], 8, [\"onClick\"])\n          ], 64))\n        }), 128))\n      ])\n    ]),\n    _createVNode(\"div\", _hoisted_8, [\n      _withDirectives(_createVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_ctx.model.name = $event))\n      }, null, 512), [\n        [_vModelText, _ctx.model.name]\n      ]),\n      _createVNode(\"div\", {\n        class: \"icon-button\",\n        onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.saveLocal && _ctx.saveLocal(...args)))\n      }, [\n        _createVNode(_component_fa, { icon: \"save\" })\n      ])\n    ])\n  ]))\n})","\nimport {Options, Vue} from 'vue-class-component';\nimport Model from \"@/logic/Model\";\nimport Tippy from \"@/lib/Tippy.vue\";\nimport {Inject} from \"vue-property-decorator\";\n\n@Options({\n  components: {\n    Tippy,\n  },\n  props: {\n  },\n  watch: {\n  }\n})\nexport default class FilterSaveLoad extends Vue {\n  @Inject({from: 'model'})\n  model!: Model\n\n  savedNames: string[] = []\n\n  pasteVisible: boolean = false\n  pasteTimeout: number = -1\n  pasteStatus: string = \"Pasted\"\n  permalinkVisible: boolean = false\n  permalinkTimeout: number = -1\n\n  get clipboardField(): HTMLInputElement {\n    return this.$refs['clipboardField'] as HTMLInputElement\n  }\n\n  mounted() {\n    this.loadNames()\n  }\n\n  clipboardFieldFocus() {\n    this.clipboardField.setSelectionRange(0, this.clipboardField.value.length)\n  }\n\n  loadClipboard(text: string) {\n    let success = this.model.decode(text)\n    this.pasteStatus = success ? 'Loaded' : 'Invalid'\n    this.pasteVisible = true\n    clearTimeout(this.pasteTimeout)\n    this.pasteTimeout = setTimeout(() => {\n      this.pasteVisible = false\n    }, 2000)\n  }\n\n  loadSaved(name: string) {\n    let local = JSON.parse(localStorage.getItem(\"saved\") ?? \"{}\")\n    this.model.decode(local[name])\n    if(local[name].startsWith('{'))\n      this.saveLocal()\n    this.$router.back()\n  }\n\n  deleteSaved(name: string) {\n    let local = JSON.parse(localStorage.getItem(\"saved\") ?? \"{}\")\n    delete local[name]\n    localStorage.setItem(\"saved\", JSON.stringify(local))\n    this.loadNames()\n  }\n\n  loadNames() {\n    let json = JSON.parse(localStorage.getItem(\"saved\") ?? \"{}\")\n    this.savedNames = Object.keys(json).sort()\n  }\n\n  saveLocal() {\n    let local = JSON.parse(localStorage.getItem(\"saved\") ?? \"{}\")\n    local[this.model.name] = this.model.encoded\n    localStorage.setItem(\"saved\", JSON.stringify(local))\n    this.loadNames()\n  }\n\n  copyPermalink() {\n    let url = new URL(location.href)\n    // I directly set the search here because searchParams' escaping is overzealous\n    url.search = '?share=' + encodeURI(this.model.encoded)\n    navigator.clipboard.writeText(url.href).then(() => {\n      this.permalinkVisible = true\n      clearTimeout(this.permalinkTimeout)\n      this.permalinkTimeout = setTimeout(() => {\n        this.permalinkVisible = false\n      }, 750)\n    })\n  }\n}\n","import { render } from \"./FilterSaveLoad.vue?vue&type=template&id=5e5c2478&scoped=true&ts=true\"\nimport script from \"./FilterSaveLoad.vue?vue&type=script&lang=ts\"\nexport * from \"./FilterSaveLoad.vue?vue&type=script&lang=ts\"\n\nimport \"./FilterSaveLoad.vue?vue&type=style&index=0&id=5e5c2478&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/piercepersonal/Documents/style-color-helper/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e5c2478\"]])\n\nexport default __exports__","import {createApp} from 'vue'\nimport App from './App.vue'\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {TippyDirective} from \"@/lib/TippyDirective\";\nimport * as VueRouter from 'vue-router'\n\nimport {initIcons} from \"@/icons\";\nimport FilterList from \"@/components/views/FilterList.vue\";\nimport FilterAddMenu from \"@/components/views/FilterAddMenu.vue\";\nimport FilterColorEditor from \"@/components/views/FilterColorEditor.vue\";\nimport FilterSaveLoad from \"@/components/views/FilterSaveLoad.vue\";\n\nlet history = VueRouter.createMemoryHistory()\nlet router = VueRouter.createRouter({\n  history,\n  routes: [\n    {\n      path: '/',\n      component: FilterList,\n      meta: {\n        back: false\n      },\n    },\n    {\n      path: '/add',\n      component: FilterAddMenu,\n      meta: {\n        back: true\n      },\n    },\n    {\n      path: '/color/:filterIndex/:parameterIndex',\n      component: FilterColorEditor,\n      props: true,\n      meta: {\n        back: true\n      },\n    },\n    {\n      path: '/save',\n      component: FilterSaveLoad,\n      meta: {\n        back: true\n      },\n    }\n  ]\n})\n\ninitIcons()\n\nlet vue = createApp(App)\nvue.use(router)\nvue.component('fa', FontAwesomeIcon)\nvue.directive('tippy', TippyDirective)\nvue.mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FilterSaveLoad.vue?vue&type=style&index=0&id=5e5c2478&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=1&id=2053f832&scoped=true&lang=css\""],"sourceRoot":""}